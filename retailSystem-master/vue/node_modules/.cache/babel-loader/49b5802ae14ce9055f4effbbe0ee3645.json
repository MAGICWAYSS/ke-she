{"remainingRequest":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\src\\components\\Address.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\src\\components\\Address.vue","mtime":1684822809629},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\babel.config.js","mtime":1684822809180},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684824148122},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1684824148071},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684824148122},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1684824144416}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IGJhc2VVUkwgfSBmcm9tICIuLi8uLi9wdWJsaWMvdXJsQ29uZmlnIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJBZGRyZXNzIiwKICBwcm9wczogWyd1c2VyQWRkcicsICdkaWFsb2dGb3JtVmlzaWJsZSddLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB2YWx1ZXM6IFtdLAogICAgICBkaXN0cmljdHM6IFtdLAogICAgICBwcm9wczogewogICAgICAgIGV4cGFuZFRyaWdnZXI6ICdob3ZlcicsCiAgICAgICAgdmFsdWU6ICduYW1lJywKICAgICAgICBsYWJlbDogJ25hbWUnLAogICAgICAgIGNoaWxkcmVuOiAnZGlzdHJpY3RzJwogICAgICB9LAogICAgICBwcm92aW5jZTogIiIsCiAgICAgIGNpdHk6ICIiLAogICAgICBhcmVhOiAiIiwKICAgICAgbmFtZTogIiIsCiAgICAgIHBob25lOiAiIiwKICAgICAgY29kZTogIiIsCiAgICAgIGNoZWNrZWRJdGVtOiAiIiwKICAgICAgbGlzdDogW10sCiAgICAgIGFkZHI6ICIiLAogICAgICB1c2VySWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSwKICAgICAgZGFmYXVsdDogdHJ1ZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoYmFzZVVSTCArICIvdXNlci1hZGRyL2FkZHIvIiArIHRoaXMudXNlcklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy51c2VyQWRkciA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICBxdWVyeVNlYXJjaDogZnVuY3Rpb24gcXVlcnlTZWFyY2gocXVlcnlTdHJpbmcsIGNiKSB7CiAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9yZXN0YXBpLmFtYXAuY29tL3YzL3BsYWNlL3RleHQiLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBrZXk6ICcxOTgzYmUzMzFjNDhlZjI4ODY3ZjYxZTYxZjg3ODk4NycsCiAgICAgICAgICAvLyDov5nkuKrmmK/nlLPor7fnmoQgS2V577yM6Ieq6KGM5YaZ5YWlCiAgICAgICAgICBrZXl3b3JkczogcXVlcnlTdHJpbmcsCiAgICAgICAgICBjaXR5OiB0aGlzLmNpdHkgPyB0aGlzLmNpdHkgOiBudWxsCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyDojrflvpfov5Tlm57nmoTmlbDmja4KICAgICAgICB2YXIgbGlzdHMgPSByZXMuZGF0YS5wb2lzOyAvLyDnu4Too4XmiJBhdXRvQ29tcGxldGXnu4Tku7bmiYDpnIDopoHnmoTmlbDmja7nu5PmnoQKCiAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgICAgICBsaXN0cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJlc3VsdHMucHVzaCh7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmFkZHJlc3MsCiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgICAgICAgInByb3ZpbmNlIjogaXRlbS5wbmFtZSwKICAgICAgICAgICAgImNpdHkiOiBpdGVtLmNpdHluYW1lLAogICAgICAgICAgICAiYXJlYSI6IGl0ZW0uYWRuYW1lCiAgICAgICAgICB9KTsKICAgICAgICB9KTsgLy8g6LCD55SoIGNhbGxiYWNrIOi/lOWbnuW7uuiuruWIl+ihqOeahOaVsOaNrgoKICAgICAgICBjYihyZXN1bHRzKTsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0OiBmdW5jdGlvbiBoYW5kbGVTZWxlY3QoaXRlbSkgewogICAgICB0aGlzLnByb3ZpbmNlID0gaXRlbS5wcm92aW5jZTsKICAgICAgdGhpcy5jaXR5ID0gaXRlbS5jaXR5OwogICAgICB0aGlzLmFyZWEgPSBpdGVtLmFyZWE7CiAgICAgIHRoaXMuYWRkciA9IGl0ZW0udmFsdWU7CiAgICB9LAogICAgZ2V0bGlzdDogZnVuY3Rpb24gZ2V0bGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vcmVzdGFwaS5hbWFwLmNvbS92My9jb25maWcvZGlzdHJpY3QnLCB7CiAgICAgICAgLy8g6auY5b635Zyw5Zu+55qEQVBJCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBrZXk6ICcxOTgzYmUzMzFjNDhlZjI4ODY3ZjYxZTYxZjg3ODk4NycsCiAgICAgICAgICAvLyDov5nkuKrmmK/nlLPor7fnmoQgS2V577yM6Ieq6KGM5YaZ5YWlCiAgICAgICAgICBrZXl3b3JkczogJ+S4reWbvScsCiAgICAgICAgICBzdWJkaXN0cmljdDogMywKICAgICAgICAgIGV4dGVuc2lvbnM6ICdiYXNlJwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgYSA9IHJlc3BvbnNlLmRhdGEuZGlzdHJpY3RzWzBdLmRpc3RyaWN0czsKICAgICAgICBfdGhpczIuZGlzdHJpY3RzID0gX3RoaXMyLnJlY3VyKGEpOwogICAgICB9KTsKICAgIH0sCiAgICByZWN1cjogZnVuY3Rpb24gcmVjdXIoZGF0YSkgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0uZGlzdHJpY3RzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRhdGFbaV0uZGlzdHJpY3RzW2pdLmRpc3RyaWN0cy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICBkYXRhW2ldLmRpc3RyaWN0c1tqXS5kaXN0cmljdHNba10uZGlzdHJpY3RzID0gdW5kZWZpbmVkOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UodmFsdWUpIHsKICAgICAgdGhpcy5wcm92aW5jZSA9IHZhbHVlWzBdOwogICAgICB0aGlzLmNpdHkgPSB2YWx1ZVsxXTsKICAgICAgdGhpcy5hcmVhID0gdmFsdWVbMl07CiAgICB9LAogICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGFkZHIgPSB7CiAgICAgICAgInVzZXJJZCI6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSwKICAgICAgICAicmVjZWl2ZXJOYW1lIjogdGhpcy5uYW1lLAogICAgICAgICJyZWNlaXZlck1vYmlsZSI6IHRoaXMucGhvbmUsCiAgICAgICAgInByb3ZpbmNlIjogdGhpcy5wcm92aW5jZSwKICAgICAgICAiY2l0eSI6IHRoaXMuY2l0eSwKICAgICAgICAiYXJlYSI6IHRoaXMuYXJlYSwKICAgICAgICAiYWRkciI6IHRoaXMuYWRkciwKICAgICAgICAicG9zdENvZGUiOiB0aGlzLmNvZGUsCiAgICAgICAgInN0YXR1cyI6IDEsCiAgICAgICAgImNvbW1vbkFkZHIiOiAwCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCArICIvdXNlci1hZGRyL2FkZEFkZHIiLCBhZGRyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEgPT09IHRydWUpIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqDmiJDlip8iKTtlbHNlIF90aGlzMy4kbWVzc2FnZS5lcnJvcigi5re75Yqg5aSx6LSlIik7CgogICAgICAgIF90aGlzMy5sb2FkKCk7CgogICAgICAgIF90aGlzMy5kaWFsb2dGb3JtVmlzaWJsZSA9IGZhbHNlOwoKICAgICAgICBfdGhpczMuJGVtaXQoIml0ZW1jbGljayIsIF90aGlzMy51c2VyQWRkcik7CiAgICAgIH0pOwogICAgfSwKICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGlkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KGJhc2VVUkwgKyAiL3VzZXItYWRkci91cGRhdGVDb21tb25BZGRyIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEgPT09IHRydWUpIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCLkv67mlLnmiJDlip8iKTtlbHNlIF90aGlzNC4kbWVzc2FnZS5lcnJvcigi5L+u5pS55aSx6LSlIik7CgogICAgICAgIF90aGlzNC5sb2FkKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AAEA;AACAA,iBADA;AAEAC,0CAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,gBADA;AAEAC,mBAFA;AAGAH;AACAI,8BADA;AAEAC,qBAFA;AAGAC,qBAHA;AAIAC;AAJA,OAHA;AASAC,kBATA;AAUAC,cAVA;AAWAC,cAXA;AAYAX,cAZA;AAaAY,eAbA;AAcAC,cAdA;AAeAC,qBAfA;AAgBAC,cAhBA;AAiBAC,cAjBA;AAkBAC,4CAlBA;AAmBAC;AAnBA;AAqBA,GAzBA;AA2BAC;AACAC,QADA,kBACA;AAAA;;AACAC,iEACA;AAAA;AAAA,OADA;AAEA,KAJA;AAKAC,eALA,uBAKAC,WALA,EAKAC,EALA,EAKA;AACAH;AACAI;AACAC,iDADA;AACA;AACAC,+BAFA;AAGAjB;AAHA;AADA,SAMAkB,IANA,CAMA;AACA;AACA,kCAFA,CAGA;;AACA;AACAC;AACAC;AACAxB,+BADA;AAEAN,2BAFA;AAGA,kCAHA;AAIA,iCAJA;AAKA;AALA;AAOA,SARA,EALA,CAcA;;AACAwB;AACA,OAtBA;AAuBA,KA7BA;AA8BAO,gBA9BA,wBA8BAC,IA9BA,EA8BA;AACA;AACA;AACA;AACA;AACA,KAnCA;AAoCAC,WApCA,qBAoCA;AAAA;;AACAZ;AAAA;AACAI;AACAC,iDADA;AACA;AACAC,wBAFA;AAGAO,wBAHA;AAIAC;AAJA;AADA,SAOAP,IAPA,CAOA;AACA;AACA;AACA,OAVA;AAWA,KAhDA;AAiDAQ,SAjDA,iBAiDAlC,IAjDA,EAiDA;AACA;AACA;AACA;AACAA;AACA;AAEA;AACA;;AACA;AACA,KA3DA;AA4DAmC,gBA5DA,wBA4DA/B,KA5DA,EA4DA;AACA;AACA;AACA;AACA,KAhEA;AAiEAgC,OAjEA,iBAiEA;AAAA;;AACA;AACA,gDADA;AAEA,iCAFA;AAGA,oCAHA;AAIA,iCAJA;AAKA,yBALA;AAMA,yBANA;AAOA,yBAPA;AAQA,6BARA;AASA,mBATA;AAUA;AAVA;AAYAjB,4DACA;AACA,oEACA;;AACA;;AACA;;AACA;AACA,OAPA;AASA,KAvFA;AAwFAkB,UAxFA,kBAwFAC,EAxFA,EAwFA;AAAA;;AACAnB;AACAI;AACAe;AADA;AADA,SAIAZ,IAJA,CAKA;AACA,oEACA;;AACA;AACA,OATA;AAWA;AApGA;AA3BA","names":["name","props","data","values","districts","expandTrigger","value","label","children","province","city","area","phone","code","checkedItem","list","addr","userId","dafault","methods","load","axios","querySearch","queryString","cb","params","key","keywords","then","lists","results","handleSelect","item","getlist","subdistrict","extensions","recur","handleChange","add","update","id"],"sourceRoot":"src/components","sources":["Address.vue"],"sourcesContent":["<template>\n<div>\n  <el-row>\n    <el-col>\n      <span style=\"float: left;margin: 5px\">收货人名：</span>\n      <el-input v-model=\"name\" placeholder=\"请输入内容\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\n    </el-col>\n    <el-col>\n      <span style=\"float: left;margin: 5px\">手机号码：</span>\n      <el-input v-model=\"phone\" placeholder=\"11位手机号\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\n    </el-col>\n    <el-col >\n      <span style=\"float: left;margin: 5px\">地址信息：</span>\n      <el-cascader\n          v-model=\"values\"\n          style=\"float: left;margin: 5px\"\n          placeholder=\"试试搜索：南昌\"\n          size=\"medium\"\n          :props=\"props\" @focus=\"getlist\"\n          :options=\"districts\" @change=\"handleChange\"\n          filterable clearable></el-cascader>\n    </el-col>\n    <el-col>\n      <span\n          style=\"float: left;margin: 5px\">详细地址：</span>\n      <el-autocomplete\n          v-model=\"checkedItem\" style=\"float: left;margin: 5px\"\n          :fetch-suggestions=\"querySearch\"\n          placeholder=\"请输入详细地址\"\n          :trigger-on-focus=\"false\"\n          @select=\"handleSelect\"\n      ></el-autocomplete>\n    </el-col>\n    <el-col>\n      <span style=\"float: left;margin: 5px\">邮政编码：</span>\n      <el-input v-model=\"code\" placeholder=\"6位邮编\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\n    </el-col>\n<!--    <el-col>\n      <el-switch v-model=\"dafault\" style=\"float: left\" active-text=\"默认地址\"></el-switch>\n    </el-col>-->\n    <el-col>\n      <el-button type=\"primary\" plain @click=\"add\" style=\"float: left;margin: 10px\">保存</el-button>\n    </el-col>\n  </el-row>\n\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {baseURL} from \"../../public/urlConfig\";\n\nexport default {\n  name: \"Address\",\n  props:['userAddr','dialogFormVisible'],\n  data(){\n    return{\n      values:[],\n      districts:[],\n      props:{\n        expandTrigger: 'hover',\n        value:'name',\n        label:'name',\n        children:'districts'\n      },\n      province: \"\",\n      city: \"\",\n      area: \"\",\n      name:\"\",\n      phone:\"\",\n      code:\"\",\n      checkedItem:\"\",\n      list:[],\n      addr:\"\",\n      userId:localStorage.getItem(\"userId\"),\n      dafault:true,\n    }\n  },\n\n  methods:{\n    load(){\n      axios.get(baseURL+\"/user-addr/addr/\"+this.userId).then(\n          res=>{this.userAddr=res.data})\n    },\n    querySearch(queryString, cb) {\n      axios.get(\"https://restapi.amap.com/v3/place/text\",{\n        params:{\n          key: '1983be331c48ef28867f61e61f878987',   // 这个是申请的 Key，自行写入\n          keywords:queryString,\n          city:this.city?this.city:null\n        }\n      }).then((res) => {\n            // 获得返回的数据\n            let lists = res.data.pois;\n            // 组装成autoComplete组件所需要的数据结构\n            let results = [];\n            lists.map((item) => {\n              results.push({\n                value: item.address,\n                name: item.name,\n                \"province\":item.pname,\n                \"city\":item.cityname,\n                \"area\":item.adname,\n              });\n            });\n            // 调用 callback 返回建议列表的数据\n            cb(results);\n          });\n    },\n    handleSelect(item){\n      this.province=item.province\n      this.city=item.city\n      this.area=item.area\n      this.addr=item.value\n    },\n    getlist(){\n      axios.get('https://restapi.amap.com/v3/config/district',{   // 高德地图的API\n        params:{\n          key: '1983be331c48ef28867f61e61f878987',   // 这个是申请的 Key，自行写入\n          keywords: '中国',\n          subdistrict: 3,\n          extensions: 'base'\n        }\n      }).then((response) => {\n        let a=response.data.districts[0].districts\n        this.districts=this.recur(a)\n      })\n    },\n    recur(data){\n      for(let i=0;i<data.length;i++){\n        for (let j=0;j<data[i].districts.length;j++){\n          for (let k=0;k<data[i].districts[j].districts.length;k++){\n            data[i].districts[j].districts[k].districts=undefined\n          }\n\n        }\n      }\n      return data\n    },\n    handleChange(value){\n      this.province=value[0]\n      this.city=value[1]\n      this.area=value[2]\n    },\n    add(){\n      var addr={\n        \"userId\":localStorage.getItem(\"userId\"),\n        \"receiverName\":this.name,\n        \"receiverMobile\":this.phone,\n        \"province\":this.province,\n        \"city\":this.city,\n        \"area\":this.area,\n        \"addr\":this.addr,\n        \"postCode\":this.code,\n        \"status\":1,\n        \"commonAddr\":0,\n      }\n      axios.post(baseURL+\"/user-addr/addAddr\",addr).then(\n          res=>{\n            if(res.data===true)this.$message.success(\"添加成功\")\n            else this.$message.error(\"添加失败\")\n            this.load()\n            this.dialogFormVisible=false\n            this.$emit(\"itemclick\",this.userAddr)\n          }\n      )\n    },\n    update(id){\n      axios.get(baseURL+\"/user-addr/updateCommonAddr\",{\n        params:{\n          id:id\n        }\n      }).then(\n          res=>{\n            if(res.data===true)this.$message.success(\"修改成功\")\n            else this.$message.error(\"修改失败\")\n            this.load()\n          }\n      )\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}