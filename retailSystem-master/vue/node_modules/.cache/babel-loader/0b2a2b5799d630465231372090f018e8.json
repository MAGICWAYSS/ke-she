{"remainingRequest":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\src\\views\\Product.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\src\\views\\Product.vue","mtime":1685237574759},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\babel.config.js","mtime":1684822809180},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684824148122},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1684824148071},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684824148122},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1684824144416}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIkM6L1VzZXJzL1x1NEY1NVx1Nzc3Ri9Eb3dubG9hZHMvcmV0YWlsU3lzdGVtLW1hc3Rlci9yZXRhaWxTeXN0ZW0tbWFzdGVyL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgYmFzZVVSTCB9IGZyb20gIi4uLy4uL3B1YmxpYy91cmxDb25maWciOwppbXBvcnQgcm91dGVyIGZyb20gIkAvcm91dGVyIjsKaW1wb3J0IE5hdmkgZnJvbSAiLi4vY29tcG9uZW50cy9OYXZpIjsKaW1wb3J0IFByb2R1Y3RQYXJhbXMgZnJvbSAiLi4vY29tcG9uZW50cy9Qcm9kdWN0UGFyYW1zIjsKaW1wb3J0IENvbW1lbnRzIGZyb20gIi4uL2NvbXBvbmVudHMvQ29tbWVudHMiOwp2YXIgc2t1TWFwcyA9IG5ldyBNYXAoKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQcm9kdWN0IiwKICBjb21wb25lbnRzOiB7CiAgICBQcm9kdWN0UGFyYW1zOiBQcm9kdWN0UGFyYW1zLAogICAgTmF2aTogTmF2aSwKICAgIENvbW1lbnRzOiBDb21tZW50cwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2R1Y3RJZDogIiIsCiAgICAgIG51bTogMSwKICAgICAgY3VycmVudFNrdUluZGV4OiAwLAogICAgICBjdXJyZW50SW1nSW5kZXg6IDAsCiAgICAgIHRhYjogW10sCiAgICAgIHRhYlBvc2l0aW9uOiAiMCIsCiAgICAgIHByb2R1Y3RJbmZvOiB7fSwKICAgICAgcHJvZHVjdFNrdTogW10sCiAgICAgIHByb2R1Y3RJbWdzOiBbXSwKICAgICAgc2t1UHJvcHM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8v6I635Y+W5YiwdXJs5Lyg6YCS55qE5ZWG5ZOBaWQKICAgIHRoaXMucHJvZHVjdElkID0gdGhpcy4kcm91dGUucXVlcnkucGlkOwogICAgdGhpcy5sb2FkKCk7CiAgICB0aGlzLmFkZEhpc3RvcnkoKTsKICAgIHZhciBsZW4gPSAzOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgdmFsdWU6ICIwIgogICAgICB9OwogICAgICB0aGlzLnRhYi5wdXNoKGl0ZW0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldChiYXNlVVJMICsgIi9wcm9kdWN0cy9wcm9kdWN0LyIgKyB0aGlzLnByb2R1Y3RJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMucHJvZHVjdEluZm8gPSByZXMuZGF0YS5kYXRhLnByb2R1Y3Q7CiAgICAgICAgX3RoaXMucHJvZHVjdFNrdSA9IHJlcy5kYXRhLmRhdGEucHJvZHVjdFNrdTsKICAgICAgICBfdGhpcy5wcm9kdWN0SW1ncyA9IHJlcy5kYXRhLmRhdGEucHJvZHVjdEltZ3M7IC8vZXZhbOWwhmpzb27moLzlvI/ovazljJbkuLpNYXDplK7lgLzlr7nmoLzlvI8KCiAgICAgICAgX3RoaXMuc2t1UHJvcHMgPSBldmFsKCIoIiArIF90aGlzLnByb2R1Y3RTa3VbX3RoaXMuY3VycmVudFNrdUluZGV4XS51bnRpdGxlZCArICIpIik7CiAgICAgIH0pOwogICAgfSwKICAgIHJlY3VyOiBmdW5jdGlvbiByZWN1cihkYXRhKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5kaXN0cmljdHMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZGF0YVtpXS5kaXN0cmljdHNbal0uZGlzdHJpY3RzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIGRhdGFbaV0uZGlzdHJpY3RzW2pdLmRpc3RyaWN0c1trXS5kaXN0cmljdHMgPSB1bmRlZmluZWQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZGF0YTsKICAgIH0sCiAgICBjaGFuZ2VTa3U6IGZ1bmN0aW9uIGNoYW5nZVNrdSh2YWwpIHsKICAgICAgdGhpcy5jdXJyZW50U2t1SW5kZXggPSB2YWw7IC8vZXZhbOWwhmpzb27moLzlvI/ovazljJbkuLpNYXDplK7lgLzlr7nmoLzlvI8KCiAgICAgIHRoaXMuc2t1UHJvcHMgPSBldmFsKCIoIiArIHRoaXMucHJvZHVjdFNrdVt0aGlzLmN1cnJlbnRTa3VJbmRleF0udW50aXRsZWQgKyAiKSIpOwogICAgfSwKICAgIGNoYW5nZUltZzogZnVuY3Rpb24gY2hhbmdlSW1nKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRJbWdJbmRleCA9IHZhbDsKICAgIH0sCiAgICBjaGFuZ2VLZXk6IGZ1bmN0aW9uIGNoYW5nZUtleSh2YWwsIGUpIHsKICAgICAgc2t1TWFwcy5zZXQoZSwgdmFsKTsKICAgIH0sCiAgICBhZGRMaXN0OiBmdW5jdGlvbiBhZGRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBhID0gIiI7CgogICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2t1TWFwcy5rZXlzKCkpLAogICAgICAgICAgX3N0ZXA7CgogICAgICB0cnkgewogICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICB2YXIga2V5cyA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgYSArPSBrZXlzICsgIjoiICsgc2t1TWFwcy5nZXQoa2V5cykgKyAiOyI7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHZhciBjYXJ0cyA9IHsKICAgICAgICAiY2FydE51bSI6IHRoaXMubnVtLAogICAgICAgICJwcm9kdWN0SWQiOiB0aGlzLnByb2R1Y3RJZCwKICAgICAgICAicHJvZHVjdFByaWNlIjogdGhpcy5wcm9kdWN0U2t1W3RoaXMuY3VycmVudFNrdUluZGV4XS5zZWxsUHJpY2UsCiAgICAgICAgInNrdUlkIjogdGhpcy5wcm9kdWN0U2t1W3RoaXMuY3VycmVudFNrdUluZGV4XS5za3VJZCwKICAgICAgICAic2t1UHJvcHMiOiBhLAogICAgICAgICJ1c2VySWQiOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIikKICAgICAgfTsKICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCArICIvc2hvcHBpbmctY2FydC9hZGQiLCBjYXJ0cywgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiB0b2tlbgogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT0gMTAwMDApIHsKICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKHJlcy5kYXRhLm1zZyk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxMDAwMSkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CgogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICByZWRpcmVjdDogcm91dGVyLmN1cnJlbnRSb3V0ZS5mdWxsUGF0aCAvLyDpmLLmraLku47lpJbpg6jov5vmnaXnmbvlvZUKCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGEgPSAiIjsKCiAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2t1TWFwcy5rZXlzKCkpLAogICAgICAgICAgX3N0ZXAyOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvcjIucygpOyAhKF9zdGVwMiA9IF9pdGVyYXRvcjIubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGtleXMgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICBhICs9IGtleXMgKyAiOiIgKyBza3VNYXBzLmdldChrZXlzKSArICI7IjsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjIuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICB9CgogICAgICB2YXIgY2FydHMgPSB7CiAgICAgICAgImNhcnROdW0iOiB0aGlzLm51bSwKICAgICAgICAicHJvZHVjdElkIjogdGhpcy5wcm9kdWN0SWQsCiAgICAgICAgInByb2R1Y3RQcmljZSI6IHRoaXMucHJvZHVjdFNrdVt0aGlzLmN1cnJlbnRTa3VJbmRleF0uc2VsbFByaWNlLAogICAgICAgICJza3VJZCI6IHRoaXMucHJvZHVjdFNrdVt0aGlzLmN1cnJlbnRTa3VJbmRleF0uc2t1SWQsCiAgICAgICAgInNrdVByb3BzIjogYSwKICAgICAgICAidXNlcklkIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpCiAgICAgIH07CiAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICBheGlvcy5wb3N0KGJhc2VVUkwgKyAiL3Nob3BwaW5nLWNhcnQvYWRkIiwgY2FydHMsIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICB0b2tlbjogdG9rZW4KICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDEwMDAwKSB7CiAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIvb3JkZXI/Y2lkcz0iICsgcmVzLmRhdGEuZGF0YSk7CiAgICAgICAgfQoKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAxMDAwMSkgewogICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHJlcy5kYXRhLm1zZyk7CgogICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICByZWRpcmVjdDogcm91dGVyLmN1cnJlbnRSb3V0ZS5mdWxsUGF0aCAvLyDpmLLmraLku47lpJbpg6jov5vmnaXnmbvlvZUKCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkSGlzdG9yeTogZnVuY3Rpb24gYWRkSGlzdG9yeSgpIHsKICAgICAgdmFyIGhpc3RvcnkgPSB7CiAgICAgICAgInByb2R1Y3RJZCI6IHRoaXMucHJvZHVjdElkLAogICAgICAgICJ1c2VySWQiOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIikKICAgICAgfTsKICAgICAgYXhpb3MucG9zdChiYXNlVVJMICsgIi9oaXN0b3J5L2luc2VydCIsIGhpc3RvcnkpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAA,iBADA;AAEAC;AAAAC;AAAAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,mBADA;AAEAC,YAFA;AAGAC,wBAHA;AAIAC,wBAJA;AAKAC,aALA;AAMAC,sBANA;AAOAC,qBAPA;AAQAC,oBARA;AASAC,qBATA;AAUAC;AAVA;AAYA,GAhBA;AAiBAC,SAjBA,qBAiBA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAAC;AAAA;AACA;AACA;AACA,GA3BA;AA4BAC;AACAC,QADA,kBACA;AAAA;;AACAC,sEACA;AACA;AACA;AACA,sDAHA,CAIA;;AACA;AACA,OAPA;AASA,KAXA;AAYAC,SAZA,iBAYAhB,IAZA,EAYA;AACA;AACA;AACA;AACAA;AACA;AAEA;AACA;;AACA;AACA,KAtBA;AAuBAiB,aAvBA,qBAuBAC,GAvBA,EAuBA;AACA,iCADA,CAEA;;AACA;AACA,KA3BA;AA4BAC,aA5BA,qBA4BAD,GA5BA,EA4BA;AACA;AACA,KA9BA;AA+BAE,aA/BA,qBA+BAF,GA/BA,EA+BAG,CA/BA,EA+BA;AACAC;AACA,KAjCA;AAkCAC,WAlCA,qBAkCA;AAAA;;AACA;;AADA,iDAEAD,cAFA;AAAA;;AAAA;AAEA;AAAA;AACAE;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;;AAKA;AACA,2BADA;AAEA,mCAFA;AAGA,uEAHA;AAIA,4DAJA;AAKA,qBALA;AAMA;AANA;AAQA;AACAT;AAAAU;AACAC;AADA;AAAA,SACAC,IADA,CACA;AACA;AACA;AACA;;AACA;AACA;;AACAC;AACAC,0BADA;AAEAC;AACAC,oDADA,CACA;;AADA;AAFA;AAMA;AACA,OAdA;AAeA,KA/DA;AAgEAC,UAhEA,oBAgEA;AAAA;;AACA;;AADA,kDAEAV,cAFA;AAAA;;AAAA;AAEA;AAAA;AACAE;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;;AAKA;AACA,2BADA;AAEA,mCAFA;AAGA,uEAHA;AAIA,4DAJA;AAKA,qBALA;AAMA;AANA;AAQA;AACAT;AAAAU;AACAC;AADA;AAAA,SACAC,IADA,CACA;AACA;AACA;AACA;;AACA;AACA;;AACAC;AACAC,0BADA;AAEAC;AACAC,oDADA,CACA;;AADA;AAFA;AAMA;AACA,OAdA;AAeA,KA7FA;AA8FAE,cA9FA,wBA8FA;AACA;AACA,mCADA;AAEA;AAFA;AAIAlB;AACA;AApGA;AA5BA","names":["name","components","ProductParams","Navi","Comments","data","productId","num","currentSkuIndex","currentImgIndex","tab","tabPosition","productInfo","productSku","productImgs","skuProps","created","value","methods","load","axios","recur","changeSku","val","changeImg","changeKey","e","skuMaps","addList","a","headers","token","then","router","path","query","redirect","submit","addHistory"],"sourceRoot":"src/views","sources":["Product.vue"],"sourcesContent":["<template>\n<div style=\"overflow-x: hidden\">\n  <Navi/>\n  <el-row :gutter=\"20\" style=\"background-color: white;width: 80%;margin: 0 auto\">\n    <el-col :span=\"8\">\n      <el-col>\n        <el-image :src=\"require(`../img/${productImgs[currentImgIndex].url}`)\" fit=\"fill\"\n                  :preview-src-list=\"['http://localhost:9090/img/'+productImgs[currentImgIndex].url]\"\n        style=\"height: 210px\"></el-image>\n      </el-col>\n      <el-col>\n        <el-carousel :autoplay=\"false\" type=\"card\" height=\"100px\" @change=\"changeImg\">\n          <el-carousel-item  v-for=\"item in productImgs\" >\n            <el-image :src=\"'http://localhost:9090/img/'+item.url\" style=\"height: 100%;\"></el-image>\n          </el-carousel-item>\n        </el-carousel>\n      </el-col>\n    </el-col>\n    <el-col :span=\"16\">\n        <el-col>\n          <h3 style=\"float: left;margin: 5px\">{{productInfo.productName}}</h3>\n        </el-col>\n        <el-col style=\"background-color:#fee9eb\">\n          <el-col style=\"margin: 5px\">\n            <el-col :span=\"3\"style=\"text-align: left;font-size: 16px\">原价：</el-col>\n            <el-col :span=\"16\" style=\" text-align: left\">\n              <em style=\"font-size: 16px;text-decoration: line-through\">¥{{productSku[currentSkuIndex].originalPrice}}</em></el-col>\n          </el-col>\n          <el-col style=\"margin: 5px\">\n            <el-col :span=\"3\"style=\"text-align: left;font-size: 16px\">促销价：</el-col>\n            <el-col :span=\"16\" style=\" text-align: left;color: #c81623\">\n              <em style=\"font-size:30px;font-weight: 700;\">¥{{productSku[currentSkuIndex].sellPrice}}</em></el-col>\n          </el-col>\n        </el-col>\n        <el-col >\n          <span style=\"margin: 5px;float: left\" >套餐：</span>\n          <div style=\"margin: 5px;float: left\" v-for=\"(sku,index) in productSku\" >\n            <el-radio-group v-model=\"tabPosition\" size=\"medium\"  @change=\"changeSku\">\n              <el-radio-button :label=\"index\" >{{sku.skuName}}</el-radio-button>\n            </el-radio-group>\n          </div>\n        </el-col>\n        <el-col v-for=\"(value,key,index) in skuProps\" >\n          <span style=\"margin: 5px;float: left\" >{{ key }}：</span>\n          <div style=\"margin: 5px;float: left\" v-for=\"(sku) in value\">\n            <el-radio-group v-model=\"tab[index].value\" :key=\"key\" size=\"medium\" @change=\"(skus)=>changeKey(skus,key)\" >\n              <el-radio-button :label=\"sku\" >{{sku}}</el-radio-button>\n            </el-radio-group>\n          </div>\n        </el-col>\n        <el-col>\n          <el-descriptions size=\"medium\" style=\"text-align: left;font-size: 16px;margin: 5px\">\n            <el-descriptions-item label=\"库存：\">{{ productSku[currentSkuIndex].stock }}</el-descriptions-item>\n            <el-descriptions-item label=\"累计销量：\">{{productInfo.soldNum}}件</el-descriptions-item>\n          </el-descriptions>\n        </el-col>\n        <el-col>\n          <el-input-number v-model=\"num\"  :min=\"1\" :max=\"productSku[currentSkuIndex].stock\" label=\"描述文字\"\n          style=\"float: left;margin: 5px\"></el-input-number>\n          <el-button type=\"warning\" round plain style=\"margin: 5px;\" @click=\"addList\">添加购物车</el-button>\n          <el-button type=\"success\" round plain style=\"margin: 5px;\" @click=\"submit\">立即购买</el-button>\n        </el-col>\n    </el-col>\n  </el-row>\n  <el-tabs type=\"border-card\" style=\"margin: 0 auto;width: 80%\">\n    <el-tab-pane label=\"宝贝详情\"><ProductParams :productId=\"productId\" :productImgs=\"productImgs\"></ProductParams></el-tab-pane>\n    <el-tab-pane >\n      <span slot=\"label\"><i class=\"el-icon-chat-dot-square\"></i> 评价</span>\n      <Comments :productId=\"productId\"></Comments>\n    </el-tab-pane>\n  </el-tabs>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {baseURL} from \"../../public/urlConfig\";\nimport router from \"@/router\";\nimport Navi from \"../components/Navi\";\nimport ProductParams from \"../components/ProductParams\";\nimport Comments from \"../components/Comments\";\nlet skuMaps=new Map()\nexport default {\n  name: \"Product\",\n  components: {ProductParams, Navi,Comments},\n  data(){\n    return{\n      productId:\"\",\n      num:1,\n      currentSkuIndex:0,\n      currentImgIndex:0,\n      tab: [],\n      tabPosition:\"0\",\n      productInfo:{},\n      productSku:[],\n      productImgs:[],\n      skuProps:[],\n    }\n  },\n  created() {\n    //获取到url传递的商品id\n    this.productId=this.$route.query.pid;\n    this.load();\n    this.addHistory();\n    var len = 3;\n    for (var i = 0; i < len; i++) {\n      var item = {value: \"0\"};\n      this.tab.push(item);\n    }\n  },\n  methods:{\n    load(){\n      axios.get(baseURL+\"/products/product/\"+this.productId).then(\n          res=>{\n            this.productInfo=res.data.data.product;\n            this.productSku=res.data.data.productSku;\n            this.productImgs=res.data.data.productImgs;\n            //eval将json格式转化为Map键值对格式\n            this.skuProps=eval(\"(\"+this.productSku[this.currentSkuIndex].untitled+\")\");\n          }\n      )\n    },\n    recur(data){\n      for(let i=0;i<data.length;i++){\n        for (let j=0;j<data[i].districts.length;j++){\n          for (let k=0;k<data[i].districts[j].districts.length;k++){\n            data[i].districts[j].districts[k].districts=undefined\n          }\n\n        }\n      }\n      return data\n    },\n    changeSku(val){\n        this.currentSkuIndex=val\n      //eval将json格式转化为Map键值对格式\n      this.skuProps=eval(\"(\"+this.productSku[this.currentSkuIndex].untitled+\")\");\n    },\n    changeImg(val){\n      this.currentImgIndex=val\n    },\n    changeKey(val,e){\n      skuMaps.set(e,val)\n    },\n    addList(){\n      var a=\"\"\n      for (let keys of skuMaps.keys()){\n        a+=keys+\":\"+skuMaps.get(keys)+\";\";\n      }\n      var carts={\n        \"cartNum\":this.num,\n        \"productId\":this.productId,\n        \"productPrice\":this.productSku[this.currentSkuIndex].sellPrice,\n        \"skuId\":this.productSku[this.currentSkuIndex].skuId,\n        \"skuProps\":a,\n        \"userId\":localStorage.getItem(\"userId\"),\n      }\n      var token=localStorage.getItem(\"token\")\n      axios.post(baseURL+\"/shopping-cart/add\",carts,{headers:{\n          token:token}}).then(res=>{\n            if (res.data.code==10000){\n              this.$message.success(res.data.msg)\n            }\n            if(res.data.code==10001){\n              this.$message.error(res.data.msg)\n              router.push({\n                path: '/login',\n                query:{\n                  redirect: router.currentRoute.fullPath  // 防止从外部进来登录\n                }\n              })\n            }\n          })\n    },\n    submit(){\n      var a=\"\"\n      for (let keys of skuMaps.keys()){\n        a+=keys+\":\"+skuMaps.get(keys)+\";\";\n      }\n      var carts={\n        \"cartNum\":this.num,\n        \"productId\":this.productId,\n        \"productPrice\":this.productSku[this.currentSkuIndex].sellPrice,\n        \"skuId\":this.productSku[this.currentSkuIndex].skuId,\n        \"skuProps\":a,\n        \"userId\":localStorage.getItem(\"userId\"),\n      }\n      var token=localStorage.getItem(\"token\")\n      axios.post(baseURL+\"/shopping-cart/add\",carts,{headers:{\n          token:token}}).then(res=>{\n            if (res.data.code==10000){\n              this.$router.push(\"/order?cids=\"+res.data.data)\n            }\n            if(res.data.code==10001) {\n              this.$message.error(res.data.msg)\n              router.push({\n                path: '/login',\n                query: {\n                  redirect: router.currentRoute.fullPath  // 防止从外部进来登录\n                }\n              })\n            }\n      })\n    },\n    addHistory(){\n      var history={\n        \"productId\":this.productId,\n        \"userId\":localStorage.getItem(\"userId\"),\n      }\n      axios.post(baseURL+\"/history/insert\",history)\n    },\n  }\n\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}