{"remainingRequest":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\src\\views\\OrderList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\src\\views\\OrderList.vue","mtime":1684822811422},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684824148122},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1684824148071},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1684824148122},{"path":"C:\\Users\\何睿\\Downloads\\retailSystem-master\\retailSystem-master\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1684824144416}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7YmFzZVVSTH0gZnJvbSAiLi4vLi4vcHVibGljL3VybENvbmZpZyI7CmltcG9ydCBOYXZpIGZyb20gIi4uL2NvbXBvbmVudHMvTmF2aSI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAib3JkZXJMaXN0IiwKICBjb21wb25lbnRzOiB7TmF2aX0sCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICB1c2VySWQ6IiIsCiAgICAgIG9yZGVySW5mbzpbXSwKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnVzZXJJZD10aGlzLiRyb3V0ZS5xdWVyeS51aWQ7CiAgICB0aGlzLmxvYWQoKTsKICB9LAogIG1ldGhvZHM6ewogICAgbG9hZCgpewogICAgICBheGlvcy5nZXQoYmFzZVVSTCsiL29yZGVyLWl0ZW0vZ2V0T3JkZXJMaXN0QnlVc2VySWQvIit0aGlzLnVzZXJJZCx7CiAgICAgICAgaGVhZGVyczp7dG9rZW46bG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIil9CiAgICAgIH0pLnRoZW4oCiAgICAgICAgICByZXM9PnsKICAgICAgICAgICAgaWYocmVzLmRhdGEuY29kZT09PTEwMDAxKQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IocmVzLmRhdGEubXNnKQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLm9yZGVySW5mbz1yZXMuZGF0YS5kYXRhCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgKQogICAgfSwKICAgIHNhdmEoaWQscGlkKXsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIml0ZW1faWQiLGlkKQogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9yZW1hcmsnLAogICAgICAgIHF1ZXJ5OnsKICAgICAgICAgIHBpZDogcGlkICAvLyDpmLLmraLku47lpJbpg6jov5vmnaXnmbvlvZUKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["OrderList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n<div >\n  <Navi/>\n  <div style=\"margin: 0 auto;width: 80%\" v-for=\"item in orderInfo\">\n    <el-row style=\"background-color:rgb(234,248,255);width: 80%;margin: 0 auto;padding: 10px\">\n      <b style=\"float: left;margin-left: 5px\">{{item.createTime.substring(0,19)}}</b>\n      <span style=\"float: left;margin-left: 5px\">订单号：<em>{{item.orderId}}</em></span>\n    </el-row>\n    <el-row style=\"width: 80%;margin: 0 auto;background-color: white\">\n      <el-col :span=\"16\" style=\"float: left;\">\n        <el-table\n            v-loading=\"loading\"\n            element-loading-text=\"拼命加载中\"\n            element-loading-spinner=\"el-icon-loading\"\n            element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n            :data=\"item.orderItems\"\n            style=\"margin: 0 auto;\">\n          <el-table-column label=\"商品信息\">\n            <template slot-scope=\"scope\">\n              <el-row>\n                <el-col :span=\"4\">\n                  <router-link :to=\"{name:'Product',query:{pid:scope.row.productId}}\">\n                    <el-image :src=\"'http://localhost:9090/img/'+scope.row.productImg\" fit=\"fill\" style=\"width:100%\"></el-image>\n                  </router-link>\n                </el-col>\n                <el-col :span=\"10\" style=\"margin: 5px\">\n                  <el-row>\n                    <span>{{scope.row.productName}}</span></el-row>\n                    <el-row><span style=\"font-size: 12px;color: rgb(176,176,176)\">{{scope.row.skuName}}</span>\n                  </el-row>\n                </el-col>\n                <el-col :span=\"2\">\n                  <span style=\"margin: 0 auto\">¥{{scope.row.productPrice}}</span>\n                </el-col>\n                <el-col :span=\"2\">\n                  <span>{{scope.row.buyCounts}}</span>\n                </el-col>\n                <el-col :span=\"4\">\n                  <el-link v-if=\"scope.row.isComment===1\" :href=\"'/product?pid='+scope.row.productId\" :underline=\"false\">再次购买</el-link>\n                  <el-link v-else :underline=\"false\" @click=\"sava(scope.row.itemId,scope.row.productId)\">立即评价</el-link>\n                </el-col>\n              </el-row>\n\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-col>\n      <el-col :span=\"4\" style=\"\">\n        <b style=\"padding: 10px;font-size: 16px;margin: 0 auto\">总计：¥{{item.actualAmount}}</b>\n      </el-col>\n      <el-col :span=\"4\">\n        <el-row>\n          <el-link :underline=\"false\" :href=\"'/orderDetail?orderId='+item.orderId\">订单详情</el-link>\n        </el-row>\n        <el-row>\n          <span v-if=\"item.status==1\" style=\"color: rgb(255,66,0)\">已创建</span>\n          <span v-if=\"item.status==2\" style=\"color: rgb(255,66,0)\">待支付</span>\n          <span v-if=\"item.status==4\" style=\"color: rgb(0,186,151)\">已付款</span>\n        </el-row>\n\n      </el-col>\n    </el-row>\n  </div>\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {baseURL} from \"../../public/urlConfig\";\nimport Navi from \"../components/Navi\";\nimport router from \"../router\";\n\nexport default {\n  name: \"orderList\",\n  components: {Navi},\n  data(){\n    return{\n      userId:\"\",\n      orderInfo:[],\n    }\n  },\n  created() {\n    this.userId=this.$route.query.uid;\n    this.load();\n  },\n  methods:{\n    load(){\n      axios.get(baseURL+\"/order-item/getOrderListByUserId/\"+this.userId,{\n        headers:{token:localStorage.getItem(\"token\")}\n      }).then(\n          res=>{\n            if(res.data.code===10001)\n              this.$message.error(res.data.msg)\n            else {\n              this.orderInfo=res.data.data\n            }\n          }\n      )\n    },\n    sava(id,pid){\n      localStorage.setItem(\"item_id\",id)\n      router.push({\n        path: '/remark',\n        query:{\n          pid: pid  // 防止从外部进来登录\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}