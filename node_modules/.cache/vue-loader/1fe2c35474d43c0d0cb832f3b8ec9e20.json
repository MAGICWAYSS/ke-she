{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\components\\Address.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\components\\Address.vue","mtime":1685282428163},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHtiYXNlVVJMfSBmcm9tICIuLi8uLi9wdWJsaWMvdXJsQ29uZmlnIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiQWRkcmVzcyIsDQogIHByb3BzOlsndXNlckFkZHInLCdkaWFsb2dGb3JtVmlzaWJsZSddLA0KICBkYXRhKCl7DQogICAgcmV0dXJuew0KICAgICAgdmFsdWVzOltdLA0KICAgICAgZGlzdHJpY3RzOltdLA0KICAgICAgcHJvcHM6ew0KICAgICAgICBleHBhbmRUcmlnZ2VyOiAnaG92ZXInLA0KICAgICAgICB2YWx1ZTonbmFtZScsDQogICAgICAgIGxhYmVsOiduYW1lJywNCiAgICAgICAgY2hpbGRyZW46J2Rpc3RyaWN0cycNCiAgICAgIH0sDQogICAgICBwcm92aW5jZTogIiIsDQogICAgICBjaXR5OiAiIiwNCiAgICAgIGFyZWE6ICIiLA0KICAgICAgbmFtZToiIiwNCiAgICAgIHBob25lOiIiLA0KICAgICAgY29kZToiIiwNCiAgICAgIGNoZWNrZWRJdGVtOiIiLA0KICAgICAgbGlzdDpbXSwNCiAgICAgIGFkZHI6IiIsDQogICAgICB1c2VySWQ6bG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLA0KICAgICAgZGFmYXVsdDp0cnVlLA0KICAgIH0NCiAgfSwNCg0KICBtZXRob2RzOnsNCiAgICBsb2FkKCl7DQogICAgICBheGlvcy5nZXQoYmFzZVVSTCsiL3VzZXItYWRkci9hZGRyLyIrdGhpcy51c2VySWQpLnRoZW4oDQogICAgICAgICAgcmVzPT57dGhpcy51c2VyQWRkcj1yZXMuZGF0YX0pDQogICAgfSwNCiAgICBxdWVyeVNlYXJjaChxdWVyeVN0cmluZywgY2IpIHsNCiAgICAgIGF4aW9zLmdldCgiaHR0cHM6Ly9yZXN0YXBpLmFtYXAuY29tL3YzL3BsYWNlL3RleHQiLHsNCiAgICAgICAgcGFyYW1zOnsNCiAgICAgICAgICBrZXk6ICcxOTgzYmUzMzFjNDhlZjI4ODY3ZjYxZTYxZjg3ODk4NycsICAgLy8g6L+Z5Liq5piv55Sz6K+355qEIEtlee+8jOiHquihjOWGmeWFpQ0KICAgICAgICAgIGtleXdvcmRzOnF1ZXJ5U3RyaW5nLA0KICAgICAgICAgIGNpdHk6dGhpcy5jaXR5P3RoaXMuY2l0eTpudWxsDQogICAgICAgIH0NCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgLy8g6I635b6X6L+U5Zue55qE5pWw5o2uDQogICAgICAgICAgICBsZXQgbGlzdHMgPSByZXMuZGF0YS5wb2lzOw0KICAgICAgICAgICAgLy8g57uE6KOF5oiQYXV0b0NvbXBsZXRl57uE5Lu25omA6ZyA6KaB55qE5pWw5o2u57uT5p6EDQogICAgICAgICAgICBsZXQgcmVzdWx0cyA9IFtdOw0KICAgICAgICAgICAgbGlzdHMubWFwKChpdGVtKSA9PiB7DQogICAgICAgICAgICAgIHJlc3VsdHMucHVzaCh7DQogICAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uYWRkcmVzcywNCiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsDQogICAgICAgICAgICAgICAgInByb3ZpbmNlIjppdGVtLnBuYW1lLA0KICAgICAgICAgICAgICAgICJjaXR5IjppdGVtLmNpdHluYW1lLA0KICAgICAgICAgICAgICAgICJhcmVhIjppdGVtLmFkbmFtZSwNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8vIOiwg+eUqCBjYWxsYmFjayDov5Tlm57lu7rorq7liJfooajnmoTmlbDmja4NCiAgICAgICAgICAgIGNiKHJlc3VsdHMpOw0KICAgICAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlU2VsZWN0KGl0ZW0pew0KICAgICAgdGhpcy5wcm92aW5jZT1pdGVtLnByb3ZpbmNlDQogICAgICB0aGlzLmNpdHk9aXRlbS5jaXR5DQogICAgICB0aGlzLmFyZWE9aXRlbS5hcmVhDQogICAgICB0aGlzLmFkZHI9aXRlbS52YWx1ZQ0KICAgIH0sDQogICAgZ2V0bGlzdCgpew0KICAgICAgYXhpb3MuZ2V0KCdodHRwczovL3Jlc3RhcGkuYW1hcC5jb20vdjMvY29uZmlnL2Rpc3RyaWN0Jyx7ICAgLy8g6auY5b635Zyw5Zu+55qEQVBJDQogICAgICAgIHBhcmFtczp7DQogICAgICAgICAga2V5OiAnMTk4M2JlMzMxYzQ4ZWYyODg2N2Y2MWU2MWY4Nzg5ODcnLCAgIC8vIOi/meS4quaYr+eUs+ivt+eahCBLZXnvvIzoh6rooYzlhpnlhaUNCiAgICAgICAgICBrZXl3b3JkczogJ+S4reWbvScsDQogICAgICAgICAgc3ViZGlzdHJpY3Q6IDMsDQogICAgICAgICAgZXh0ZW5zaW9uczogJ2Jhc2UnDQogICAgICAgIH0NCiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIGxldCBhPXJlc3BvbnNlLmRhdGEuZGlzdHJpY3RzWzBdLmRpc3RyaWN0cw0KICAgICAgICB0aGlzLmRpc3RyaWN0cz10aGlzLnJlY3VyKGEpDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVjdXIoZGF0YSl7DQogICAgICBmb3IobGV0IGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7DQogICAgICAgIGZvciAobGV0IGo9MDtqPGRhdGFbaV0uZGlzdHJpY3RzLmxlbmd0aDtqKyspew0KICAgICAgICAgIGZvciAobGV0IGs9MDtrPGRhdGFbaV0uZGlzdHJpY3RzW2pdLmRpc3RyaWN0cy5sZW5ndGg7aysrKXsNCiAgICAgICAgICAgIGRhdGFbaV0uZGlzdHJpY3RzW2pdLmRpc3RyaWN0c1trXS5kaXN0cmljdHM9dW5kZWZpbmVkDQogICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBkYXRhDQogICAgfSwNCiAgICBoYW5kbGVDaGFuZ2UodmFsdWUpew0KICAgICAgdGhpcy5wcm92aW5jZT12YWx1ZVswXQ0KICAgICAgdGhpcy5jaXR5PXZhbHVlWzFdDQogICAgICB0aGlzLmFyZWE9dmFsdWVbMl0NCiAgICB9LA0KICAgIGFkZCgpew0KICAgICAgdmFyIGFkZHI9ew0KICAgICAgICAidXNlcklkIjpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlcklkIiksDQogICAgICAgICJyZWNlaXZlck5hbWUiOnRoaXMubmFtZSwNCiAgICAgICAgInJlY2VpdmVyTW9iaWxlIjp0aGlzLnBob25lLA0KICAgICAgICAicHJvdmluY2UiOnRoaXMucHJvdmluY2UsDQogICAgICAgICJjaXR5Ijp0aGlzLmNpdHksDQogICAgICAgICJhcmVhIjp0aGlzLmFyZWEsDQogICAgICAgICJhZGRyIjp0aGlzLmFkZHIsDQogICAgICAgICJwb3N0Q29kZSI6dGhpcy5jb2RlLA0KICAgICAgICAic3RhdHVzIjoxLA0KICAgICAgICAiY29tbW9uQWRkciI6MCwNCiAgICAgIH0NCiAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCsiL3VzZXItYWRkci9hZGRBZGRyIixhZGRyKS50aGVuKA0KICAgICAgICAgIHJlcz0+ew0KICAgICAgICAgICAgaWYocmVzLmRhdGE9PT10cnVlKXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIikNCiAgICAgICAgICAgIGVsc2UgdGhpcy4kbWVzc2FnZS5lcnJvcigi5re75Yqg5aSx6LSlIikNCiAgICAgICAgICAgIHRoaXMubG9hZCgpDQogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlPWZhbHNlDQogICAgICAgICAgICB0aGlzLiRlbWl0KCJpdGVtY2xpY2siLHRoaXMudXNlckFkZHIpDQogICAgICAgICAgfQ0KICAgICAgKQ0KICAgIH0sDQogICAgdXBkYXRlKGlkKXsNCiAgICAgIGF4aW9zLmdldChiYXNlVVJMKyIvdXNlci1hZGRyL3VwZGF0ZUNvbW1vbkFkZHIiLHsNCiAgICAgICAgcGFyYW1zOnsNCiAgICAgICAgICBpZDppZA0KICAgICAgICB9DQogICAgICB9KS50aGVuKA0KICAgICAgICAgIHJlcz0+ew0KICAgICAgICAgICAgaWYocmVzLmRhdGE9PT10cnVlKXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5L+u5pS55oiQ5YqfIikNCiAgICAgICAgICAgIGVsc2UgdGhpcy4kbWVzc2FnZS5lcnJvcigi5L+u5pS55aSx6LSlIikNCiAgICAgICAgICAgIHRoaXMubG9hZCgpDQogICAgICAgICAgfQ0KICAgICAgKQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Address.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Address.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n<div>\r\n  <el-row>\r\n    <el-col>\r\n      <span style=\"float: left;margin: 5px\">收货人名：</span>\r\n      <el-input v-model=\"name\" placeholder=\"请输入内容\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\r\n    </el-col>\r\n    <el-col>\r\n      <span style=\"float: left;margin: 5px\">手机号码：</span>\r\n      <el-input v-model=\"phone\" placeholder=\"11位手机号\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\r\n    </el-col>\r\n    <el-col >\r\n      <span style=\"float: left;margin: 5px\">地址信息：</span>\r\n      <el-cascader\r\n          v-model=\"values\"\r\n          style=\"float: left;margin: 5px\"\r\n          placeholder=\"试试搜索：南昌\"\r\n          size=\"medium\"\r\n          :props=\"props\" @focus=\"getlist\"\r\n          :options=\"districts\" @change=\"handleChange\"\r\n          filterable clearable></el-cascader>\r\n    </el-col>\r\n    <el-col>\r\n      <span\r\n          style=\"float: left;margin: 5px\">详细地址：</span>\r\n      <el-autocomplete\r\n          v-model=\"checkedItem\" style=\"float: left;margin: 5px\"\r\n          :fetch-suggestions=\"querySearch\"\r\n          placeholder=\"请输入详细地址\"\r\n          :trigger-on-focus=\"false\"\r\n          @select=\"handleSelect\"\r\n      ></el-autocomplete>\r\n    </el-col>\r\n    <el-col>\r\n      <span style=\"float: left;margin: 5px\">邮政编码：</span>\r\n      <el-input v-model=\"code\" placeholder=\"6位邮编\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\r\n    </el-col>\r\n<!--    <el-col>\r\n      <el-switch v-model=\"dafault\" style=\"float: left\" active-text=\"默认地址\"></el-switch>\r\n    </el-col>-->\r\n    <el-col>\r\n      <el-button type=\"primary\" plain @click=\"add\" style=\"float: left;margin: 10px\">保存</el-button>\r\n    </el-col>\r\n  </el-row>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {baseURL} from \"../../public/urlConfig\";\r\n\r\nexport default {\r\n  name: \"Address\",\r\n  props:['userAddr','dialogFormVisible'],\r\n  data(){\r\n    return{\r\n      values:[],\r\n      districts:[],\r\n      props:{\r\n        expandTrigger: 'hover',\r\n        value:'name',\r\n        label:'name',\r\n        children:'districts'\r\n      },\r\n      province: \"\",\r\n      city: \"\",\r\n      area: \"\",\r\n      name:\"\",\r\n      phone:\"\",\r\n      code:\"\",\r\n      checkedItem:\"\",\r\n      list:[],\r\n      addr:\"\",\r\n      userId:localStorage.getItem(\"userId\"),\r\n      dafault:true,\r\n    }\r\n  },\r\n\r\n  methods:{\r\n    load(){\r\n      axios.get(baseURL+\"/user-addr/addr/\"+this.userId).then(\r\n          res=>{this.userAddr=res.data})\r\n    },\r\n    querySearch(queryString, cb) {\r\n      axios.get(\"https://restapi.amap.com/v3/place/text\",{\r\n        params:{\r\n          key: '1983be331c48ef28867f61e61f878987',   // 这个是申请的 Key，自行写入\r\n          keywords:queryString,\r\n          city:this.city?this.city:null\r\n        }\r\n      }).then((res) => {\r\n            // 获得返回的数据\r\n            let lists = res.data.pois;\r\n            // 组装成autoComplete组件所需要的数据结构\r\n            let results = [];\r\n            lists.map((item) => {\r\n              results.push({\r\n                value: item.address,\r\n                name: item.name,\r\n                \"province\":item.pname,\r\n                \"city\":item.cityname,\r\n                \"area\":item.adname,\r\n              });\r\n            });\r\n            // 调用 callback 返回建议列表的数据\r\n            cb(results);\r\n          });\r\n    },\r\n    handleSelect(item){\r\n      this.province=item.province\r\n      this.city=item.city\r\n      this.area=item.area\r\n      this.addr=item.value\r\n    },\r\n    getlist(){\r\n      axios.get('https://restapi.amap.com/v3/config/district',{   // 高德地图的API\r\n        params:{\r\n          key: '1983be331c48ef28867f61e61f878987',   // 这个是申请的 Key，自行写入\r\n          keywords: '中国',\r\n          subdistrict: 3,\r\n          extensions: 'base'\r\n        }\r\n      }).then((response) => {\r\n        let a=response.data.districts[0].districts\r\n        this.districts=this.recur(a)\r\n      })\r\n    },\r\n    recur(data){\r\n      for(let i=0;i<data.length;i++){\r\n        for (let j=0;j<data[i].districts.length;j++){\r\n          for (let k=0;k<data[i].districts[j].districts.length;k++){\r\n            data[i].districts[j].districts[k].districts=undefined\r\n          }\r\n\r\n        }\r\n      }\r\n      return data\r\n    },\r\n    handleChange(value){\r\n      this.province=value[0]\r\n      this.city=value[1]\r\n      this.area=value[2]\r\n    },\r\n    add(){\r\n      var addr={\r\n        \"userId\":localStorage.getItem(\"userId\"),\r\n        \"receiverName\":this.name,\r\n        \"receiverMobile\":this.phone,\r\n        \"province\":this.province,\r\n        \"city\":this.city,\r\n        \"area\":this.area,\r\n        \"addr\":this.addr,\r\n        \"postCode\":this.code,\r\n        \"status\":1,\r\n        \"commonAddr\":0,\r\n      }\r\n      axios.post(baseURL+\"/user-addr/addAddr\",addr).then(\r\n          res=>{\r\n            if(res.data===true)this.$message.success(\"添加成功\")\r\n            else this.$message.error(\"添加失败\")\r\n            this.load()\r\n            this.dialogFormVisible=false\r\n            this.$emit(\"itemclick\",this.userAddr)\r\n          }\r\n      )\r\n    },\r\n    update(id){\r\n      axios.get(baseURL+\"/user-addr/updateCommonAddr\",{\r\n        params:{\r\n          id:id\r\n        }\r\n      }).then(\r\n          res=>{\r\n            if(res.data===true)this.$message.success(\"修改成功\")\r\n            else this.$message.error(\"修改失败\")\r\n            this.load()\r\n          }\r\n      )\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}