{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\pages\\BookInfo.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\pages\\BookInfo.vue","mtime":1671178258022},{"path":"D:\\xiaomi\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouZWwtZm9ybS1pdGVtLS1mZWVkYmFjayB7DQogIC5lbC1pbnB1dF9fdmFsaWRhdGVJY29uIHsNCiAgICBkaXNwbGF5OiBub25lOw0KICB9DQp9DQouZWwtdGFibGV7DQogIC5jZWxsew0KICAgIGZvbnQtc2l6ZToxM3B4Ow0KICB9DQp9DQoNCg=="},{"version":3,"sources":["BookInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BookInfo.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\r\n  <div>\r\n    <el-select placeholder=\"请选择图书类别\" \r\n    v-model=\"seacher.id\" \r\n    size=\"medium\">\r\n      <el-option value='' @click.native=\"hanleSelectAll\">全部</el-option>\r\n      <el-option \r\n        v-for=\"(item,index) in categoryList\" \r\n        :key=\"index\" \r\n        :label=\"item.categoryName\" \r\n        :value=\"item.categoryId\" \r\n        @click.native=\"handleSelectTeam(item)\"\r\n        >\r\n      </el-option>\r\n    </el-select>\r\n    <el-input \r\n      placeholder=\"请输入名称\"\r\n      size=\"medium\"\r\n      style=\"width:230px;padding:0 12px\"\r\n      v-model=\"seacherBy.searchName\"\r\n      @blur=\"getAllBookList\"></el-input>\r\n    <el-input \r\n      placeholder=\"请输入书籍ID\"\r\n      size=\"medium\"\r\n      style=\"width:230px;padding-right:12px\"\r\n      v-model=\"seacherBy.searchBookId\"\r\n      @blur=\"getAllBookList\"></el-input>\r\n    <el-input \r\n      placeholder=\"请输入作者\"\r\n      size=\"medium\"\r\n      style=\"width:230px;padding-right:12px\"\r\n      v-model=\"seacherBy.searchAuthor\"\r\n      @blur=\"getAllBookList\"></el-input>\r\n    <el-button icon=\"el-icon-search\" size=\"mini\" @click=\"selectBy(seacherBy)\">搜索</el-button>\r\n    <el-button type=\"primary\" icon=\"el-icon-plus\" size=\"mini\" @click=\"addBook\">新增</el-button>\r\n    <!-- 添加图书信息 -->\r\n    <el-dialog title=\"收货地址\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form :model=\"form\">\r\n        <el-form-item label=\"图书编号\" prop=\"bookId\" >\r\n        <el-input v-model=\"form.bookId\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书名称\" prop=\"bookName\">\r\n        <el-input v-model=\"form.bookName\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书分类\" prop=\"bookCategory\">\r\n        <el-input v-model=\"form.bookCategory\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"书架号\" prop=\"bookself\">\r\n        <el-input v-model=\"form.bookself\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书作者\" prop=\"bookAuthor\">\r\n        <el-input v-model=\"form.bookAuthor\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书出版社\" prop=\"bookPublisher\">\r\n        <el-input v-model=\"form.bookPublisher\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书数量\" prop=\"bookNumber\">\r\n        <el-input v-model=\"form.bookNumber\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书简介\" prop=\"bookSummary\">\r\n        <el-input v-model=\"form.bookSummary\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"借阅数\" prop=\"bookBorrowed\">\r\n        <el-input v-model=\"form.bookBorrowed\" autocomplete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书状态\" prop=\"bookState\">\r\n        <el-select v-model=\"form.bookState\">\r\n        <el-option label=\"空闲\" value=\"0\"></el-option>\r\n        <el-option label=\"借阅\" value=\"1\"></el-option>\r\n        </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"图书情况\" prop=\"isDeleted\">\r\n        <el-select v-model=\"form.isDeleted\">\r\n        <el-option label=\"未删除\" value=\"0\"></el-option>\r\n        <el-option label=\"删除\" value=\"1\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      </el-form>\r\n      <el-button @click=\"submit\">提交</el-button>\r\n    </el-dialog>\r\n    <el-table\r\n    :data=\"bookList\"\r\n    stripe\r\n    style=\"width: 100%;margin-top:20px\"\r\n    :border=\"true\">\r\n    <el-table-column\r\n      prop=\"bookName\"\r\n      label=\"图书名称\"\r\n      align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"bookCategory\"\r\n      label=\"图书分类\"\r\n      align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"bookself\"\r\n      label=\"书架号\"\r\n      align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"bookAuthor\"\r\n      label=\"作者\"\r\n      align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"bookPublisher\"\r\n      label=\"出版社\"\r\n      align=\"center\">\r\n    </el-table-column>\r\n    <el-table-column\r\n      prop=\"bookNumber\"\r\n      label=\"库存\"\r\n      align=\"center\">\r\n    </el-table-column>\r\n      <el-table-column\r\n      prop=\"address\"\r\n      label=\"操作\"\r\n      align=\"center\"\r\n      width=\"130px\">\r\n      <template slot-scope=\"scope\">\r\n      <!-- 修改信息 -->\r\n      <el-button type=\"primary\" icon=\"el-icon-link\" size=\"mini\" ></el-button>\r\n      <!-- 删除 -->\r\n      <el-button type=\"primary\" icon=\"el-icon-delete\" size=\"mini\" @click=\"deleted(scope.row.bookId)\"></el-button>\r\n      </template>\r\n    </el-table-column>\r\n  </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapState} from 'vuex'\r\nimport {mapActions} from 'vuex'\r\nimport {mapMutations} from 'vuex'\r\nimport axios from 'axios'\r\nexport default {\r\n  name:'BookInfo',\r\n  data(){\r\n    return{\r\n      //图书类别\r\n      seacher:{\r\n       name:''\r\n      },\r\n      seacherBy:{\r\n      //图书名称搜索\r\n      searchName:'',\r\n      searchBookId:'',\r\n      searchAuthor:''\r\n      },\r\n      dialogFormVisible:false,\r\n      form:{\r\n        bookId:'',\r\n        bookName:'',\r\n        bookCategory:'',\r\n        bookself:'',\r\n        bookAuthor:'',\r\n        bookPublisher:'',\r\n        bookNumber:'',\r\n        bookSummary:'',\r\n        bookBorrowed:'',\r\n        bookState:'',\r\n        bookState:'',\r\n        isDeleted:''\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    //获取booklist中的数据\r\n    ...mapActions('booklist',\r\n    { getBookList:'getBookList',\r\n      deleteBook:'deleteBook',\r\n      SelectByBookName:'SelectByBookName',\r\n      SelectByBookId:'SelectByBookId',\r\n      SelectByBookAuthor:'SelectByBookAuthor',\r\n      SelectByBookCategory:'SelectByBookCategory',\r\n      AddBook:'AddBook'\r\n    }),\r\n    //获取category中的数据\r\n    ...mapActions('category',\r\n    {\r\n      getCategoryList:'getCategoryList'\r\n    }),\r\n    hanleSelectAll(){\r\n      // console.log('选中了全部')\r\n      this.getAllBookList()\r\n    },\r\n     //选择图书类别\r\n    //根据图书类别查询\r\n    handleSelectTeam(item){\r\n      console.log(item)\r\n      var params = {\r\n        option:'byCategoryName',\r\n        'data':item.categoryName\r\n      }\r\n      this.SelectByBookCategory(params)\r\n    },\r\n    getAllBookList(){\r\n      console.log('获取所有数据',this.bookList)\r\n      this.getBookList()\r\n    },\r\n    //根据书名查询\r\n    selectBy(item){\r\n      if(item.searchName !== \"\" && item.searchBookId === \"\" && item.searchAuthor === \"\"){\r\n        var params = {\r\n          'option':'byName',\r\n          'data':item.searchName\r\n        }\r\n        this.SelectByBookName(params)\r\n      }\r\n      //根据id查询\r\n      else if(item.searchName === \"\" && item.searchBookId !== \"\" && item.searchAuthor === \"\"){\r\n        var params = {\r\n        'option':'byId',\r\n        'data':item.searchBookId\r\n        }\r\n        console.log(params)\r\n        this.SelectByBookId(params)\r\n      }\r\n      else{\r\n        var params = {\r\n        'option':'byAuthor',\r\n        'data':item.searchAuthor\r\n        }\r\n        this.SelectByBookAuthor(params)\r\n      }\r\n      if(item.searchName === \"\" && item.searchBookId === \"\" && item.searchAuthor === \"\"){\r\n         this.getAllBookList()\r\n      }\r\n    },\r\n    //增加图书\r\n    addBook(){\r\n      this.dialogFormVisible = true\r\n    },\r\n    //删除\r\n    deleted(bookId){\r\n      var params={\r\n        'option':'delete',\r\n        'data':bookId\r\n      }\r\n      this.deleteBook(params)\r\n      // console.log(param)\r\n    }, \r\n    //获取所有图书分类\r\n    getAllCategoryList(){\r\n      this.getCategoryList()\r\n      // console.log('获取所有图书分类',this.categoryList)\r\n    },\r\n    //提交表单数据\r\n    submit(){\r\n      var params = {\r\n        'option':'add',\r\n        'bookAuthor':this.form.bookAuthor,\r\n        'bookBorrowed':this.form.bookBorrowed,\r\n        'bookCategory':this.form.bookCategory,\r\n        'bookId':this.form.bookId,\r\n        'bookName':this.form.bookName,\r\n        'bookNumber':this.form.bookNumber,\r\n        'bookPublisher':this.form.bookPublisher,\r\n        'bookState':this.form.bookState,\r\n        'bookSummary':this.form.bookSummary,\r\n        'bookself':this.form.bookself,\r\n        'isDeleted':this.form.isDeleted\r\n      }\r\n      // console.log(params)\r\n      this.AddBook(params)\r\n      this.dialogFormVisible = false\r\n      this.$nextTick(()=>{\r\n      this.form.bookAuthor = '',\r\n      this.form.bookBorrowed = '',\r\n      this.form.bookCategory = '',\r\n      this.form.bookId = '',\r\n      this.form.bookNumber = '',\r\n      this.form.bookName = '',\r\n      this.form.bookPublisher = '',\r\n      this.form.bookState = '',\r\n      this.form.bookSummary = '',\r\n      this.form.bookself = '',\r\n      this.form.isDeleted = ''\r\n    })\r\n      this.getAllBookList()\r\n    }\r\n      \r\n  },\r\n  computed:{\r\n    ...mapState({\r\n      // bookList:state => state.booklist.bookList,\r\n      // bookCategory:state => state.category.bookCategory,\r\n      selectedBookList:state => state.booklist.selectedBookList\r\n    }),\r\n    //所有图书列表\r\n    bookList:{\r\n      get(){\r\n        return this.$store.state.booklist.bookList\r\n      },\r\n      set(val){\r\n      }\r\n    },\r\n    categoryList:{\r\n      get(){\r\n        // console.log('get进来了')\r\n        return this.$store.state.category.categoryList\r\n      },\r\n      set(val){\r\n\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    // 获取图书列表\r\n    this.getAllBookList()\r\n    //获取图书分类列表\r\n    this.getAllCategoryList()\r\n  }\r\n   \r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.el-form-item--feedback {\r\n  .el-input__validateIcon {\r\n    display: none;\r\n  }\r\n}\r\n.el-table{\r\n  .cell{\r\n    font-size:13px;\r\n  }\r\n}\r\n\r\n</style>"]}]}