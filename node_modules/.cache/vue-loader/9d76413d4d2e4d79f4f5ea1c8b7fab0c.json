{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\pages\\Home.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\pages\\Home.vue","mtime":1671606377662},{"path":"D:\\xiaomi\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi50b3AtY29udGVudHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1pdGVtczogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQp9DQouYm90dG9tew0KICBtYXJnaW4tdG9wOjM4cHg7DQogIC5ib3R0b20tY29udGVudHsNCiAgICBtYXJnaW46MCBhdXRvOw0KICB9DQp9DQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\r\n<div>\r\n  <div class=\"top-content\">\r\n      <el-card style=\"height:350px;width:400px\" id=\"echarts1\"></el-card>\r\n      <el-card style=\"height:350px;width:400px;\" id=\"echarts2\"></el-card>\r\n      <el-card style=\"height:350px;width:400px;\" id=\"echarts3\"></el-card>\r\n  </div>\r\n  <div class=\"bottom\">\r\n    <el-card style=\"height:200px;width:1000px\" class=\"bottom-content\">\r\n      <p>公告</p>\r\n      <div style=\"margin-top:12px\">\r\n        <span>{{this.reports[0].content}}</span>\r\n        <span style=\"margin-left:400px;font-size:12px;color:grey\">{{this.reports[0].time}}</span>\r\n        </div>\r\n    </el-card>\r\n  </div>\r\n</div>\r\n \r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts'\r\nimport { mapActions, mapState } from 'vuex'\r\nexport default {\r\n  name:'Home',\r\n  computed:{\r\n    ...mapState({\r\n       BookTop5:state => state.booklist.BookTop5,\r\n       ReaderTop3:state => state.booklist.ReaderTop3,\r\n       CategoryTop3:state => state.booklist.CategoryTop3,\r\n       reports:state => state.report.reports\r\n    })\r\n  },\r\n  methods:{\r\n    ...mapActions('booklist',{\r\n      getHotBook5:'getHotBook5',\r\n      getHotReader3:'getHotReader3',\r\n      getHotCategory3:'getHotCategory3'\r\n    }),\r\n    //热门图书\r\n    drawLine(){\r\n       //柱状图\r\n      let echarts1 = this.$echarts.init(document.getElementById('echarts1'))\r\n      let xAxis1 = []\r\n      let seriesData1 = []\r\n      for(let i = 0;i<this.BookTop5.length;i++){\r\n        xAxis1.push(this.BookTop5[i].bookName)\r\n        seriesData1.push(this.BookTop5[i].bookBorrowed)\r\n      }\r\n      echarts1.setOption({\r\n        title: { text: '热门图书TOP5' },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis1\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'line',\r\n                data: seriesData1\r\n            }]\r\n      })\r\n      let echarts2 = this.$echarts.init(document.getElementById('echarts2'))\r\n      let xAxis2 = []\r\n      let seriesData2 = []\r\n      console.log(\"@\",this.ReaderTop3)\r\n      for(let i = 0;i<this.ReaderTop3.length;i++){\r\n        xAxis2.push(this.ReaderTop3[i].readerName)\r\n        seriesData2.push(this.ReaderTop3[i].borrowNumber)\r\n      }\r\n      echarts2.setOption({\r\n        title: {\r\n          text:'热门读者TOP3',\r\n           },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis2\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'bar',\r\n                data: seriesData2,\r\n                itemStyle:{\r\n                  color:'#48a9c5'\r\n                }\r\n            }]\r\n      })\r\n      let echarts3 = this.$echarts.init(document.getElementById('echarts3'))\r\n      let xAxis3 = []\r\n      let seriesData3 = []\r\n      console.log(\"@\",this.CategoryTop3)\r\n      for(let i = 0;i<this.CategoryTop3.length;i++){\r\n        xAxis3.push(this.CategoryTop3[i].categoryName)\r\n        seriesData3.push(this.CategoryTop3[i].categoryBorrow)\r\n      }\r\n      // console.log(\"#\",xAxis3)\r\n      echarts3.setOption({\r\n        title: { text: '借阅分类排行' },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis3\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'bar',\r\n                data: seriesData3,\r\n                itemStyle:{\r\n                  color:'#2dde98'\r\n                }\r\n            }]\r\n      })\r\n    }\r\n  },\r\n  mounted(){\r\n    this.getHotBook5()\r\n    this.getHotReader3()\r\n    this.getHotCategory3()\r\n    this.drawLine()\r\n    // console.log(\"@\",this.CategoryTop3)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.top-content{\r\n  display: flex;\r\n  justify-items: center;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.bottom{\r\n  margin-top:38px;\r\n  .bottom-content{\r\n    margin:0 auto;\r\n  }\r\n}\r\n</style>"]}]}