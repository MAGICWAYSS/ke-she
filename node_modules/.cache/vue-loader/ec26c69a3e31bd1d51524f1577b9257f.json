{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\pages\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\pages\\Home.vue","mtime":1671606377662},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgZWNoYXJ0cyBmcm9tICdlY2hhcnRzJw0KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwU3RhdGUgfSBmcm9tICd2dWV4Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOidIb21lJywNCiAgY29tcHV0ZWQ6ew0KICAgIC4uLm1hcFN0YXRlKHsNCiAgICAgICBCb29rVG9wNTpzdGF0ZSA9PiBzdGF0ZS5ib29rbGlzdC5Cb29rVG9wNSwNCiAgICAgICBSZWFkZXJUb3AzOnN0YXRlID0+IHN0YXRlLmJvb2tsaXN0LlJlYWRlclRvcDMsDQogICAgICAgQ2F0ZWdvcnlUb3AzOnN0YXRlID0+IHN0YXRlLmJvb2tsaXN0LkNhdGVnb3J5VG9wMywNCiAgICAgICByZXBvcnRzOnN0YXRlID0+IHN0YXRlLnJlcG9ydC5yZXBvcnRzDQogICAgfSkNCiAgfSwNCiAgbWV0aG9kczp7DQogICAgLi4ubWFwQWN0aW9ucygnYm9va2xpc3QnLHsNCiAgICAgIGdldEhvdEJvb2s1OidnZXRIb3RCb29rNScsDQogICAgICBnZXRIb3RSZWFkZXIzOidnZXRIb3RSZWFkZXIzJywNCiAgICAgIGdldEhvdENhdGVnb3J5MzonZ2V0SG90Q2F0ZWdvcnkzJw0KICAgIH0pLA0KICAgIC8v54Ot6Zeo5Zu+5LmmDQogICAgZHJhd0xpbmUoKXsNCiAgICAgICAvL+afseeKtuWbvg0KICAgICAgbGV0IGVjaGFydHMxID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlY2hhcnRzMScpKQ0KICAgICAgbGV0IHhBeGlzMSA9IFtdDQogICAgICBsZXQgc2VyaWVzRGF0YTEgPSBbXQ0KICAgICAgZm9yKGxldCBpID0gMDtpPHRoaXMuQm9va1RvcDUubGVuZ3RoO2krKyl7DQogICAgICAgIHhBeGlzMS5wdXNoKHRoaXMuQm9va1RvcDVbaV0uYm9va05hbWUpDQogICAgICAgIHNlcmllc0RhdGExLnB1c2godGhpcy5Cb29rVG9wNVtpXS5ib29rQm9ycm93ZWQpDQogICAgICB9DQogICAgICBlY2hhcnRzMS5zZXRPcHRpb24oew0KICAgICAgICB0aXRsZTogeyB0ZXh0OiAn54Ot6Zeo5Zu+5LmmVE9QNScgfSwNCiAgICAgICAgICAgIHRvb2x0aXA6IHt9LA0KICAgICAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICAgICAgICBkYXRhOiB4QXhpczENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB5QXhpczoge30sDQogICAgICAgICAgICBzZXJpZXM6IFt7DQogICAgICAgICAgICAgICAgbmFtZTogJ+mUgOmHjycsDQogICAgICAgICAgICAgICAgdHlwZTogJ2xpbmUnLA0KICAgICAgICAgICAgICAgIGRhdGE6IHNlcmllc0RhdGExDQogICAgICAgICAgICB9XQ0KICAgICAgfSkNCiAgICAgIGxldCBlY2hhcnRzMiA9IHRoaXMuJGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWNoYXJ0czInKSkNCiAgICAgIGxldCB4QXhpczIgPSBbXQ0KICAgICAgbGV0IHNlcmllc0RhdGEyID0gW10NCiAgICAgIGNvbnNvbGUubG9nKCJAIix0aGlzLlJlYWRlclRvcDMpDQogICAgICBmb3IobGV0IGkgPSAwO2k8dGhpcy5SZWFkZXJUb3AzLmxlbmd0aDtpKyspew0KICAgICAgICB4QXhpczIucHVzaCh0aGlzLlJlYWRlclRvcDNbaV0ucmVhZGVyTmFtZSkNCiAgICAgICAgc2VyaWVzRGF0YTIucHVzaCh0aGlzLlJlYWRlclRvcDNbaV0uYm9ycm93TnVtYmVyKQ0KICAgICAgfQ0KICAgICAgZWNoYXJ0czIuc2V0T3B0aW9uKHsNCiAgICAgICAgdGl0bGU6IHsNCiAgICAgICAgICB0ZXh0Oifng63pl6jor7vogIVUT1AzJywNCiAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHRvb2x0aXA6IHt9LA0KICAgICAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICAgICAgICBkYXRhOiB4QXhpczINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB5QXhpczoge30sDQogICAgICAgICAgICBzZXJpZXM6IFt7DQogICAgICAgICAgICAgICAgbmFtZTogJ+mUgOmHjycsDQogICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgICAgICAgZGF0YTogc2VyaWVzRGF0YTIsDQogICAgICAgICAgICAgICAgaXRlbVN0eWxlOnsNCiAgICAgICAgICAgICAgICAgIGNvbG9yOicjNDhhOWM1Jw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1dDQogICAgICB9KQ0KICAgICAgbGV0IGVjaGFydHMzID0gdGhpcy4kZWNoYXJ0cy5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlY2hhcnRzMycpKQ0KICAgICAgbGV0IHhBeGlzMyA9IFtdDQogICAgICBsZXQgc2VyaWVzRGF0YTMgPSBbXQ0KICAgICAgY29uc29sZS5sb2coIkAiLHRoaXMuQ2F0ZWdvcnlUb3AzKQ0KICAgICAgZm9yKGxldCBpID0gMDtpPHRoaXMuQ2F0ZWdvcnlUb3AzLmxlbmd0aDtpKyspew0KICAgICAgICB4QXhpczMucHVzaCh0aGlzLkNhdGVnb3J5VG9wM1tpXS5jYXRlZ29yeU5hbWUpDQogICAgICAgIHNlcmllc0RhdGEzLnB1c2godGhpcy5DYXRlZ29yeVRvcDNbaV0uY2F0ZWdvcnlCb3Jyb3cpDQogICAgICB9DQogICAgICAvLyBjb25zb2xlLmxvZygiIyIseEF4aXMzKQ0KICAgICAgZWNoYXJ0czMuc2V0T3B0aW9uKHsNCiAgICAgICAgdGl0bGU6IHsgdGV4dDogJ+WAn+mYheWIhuexu+aOkuihjCcgfSwNCiAgICAgICAgICAgIHRvb2x0aXA6IHt9LA0KICAgICAgICAgICAgeEF4aXM6IHsNCiAgICAgICAgICAgICAgICBkYXRhOiB4QXhpczMNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB5QXhpczoge30sDQogICAgICAgICAgICBzZXJpZXM6IFt7DQogICAgICAgICAgICAgICAgbmFtZTogJ+mUgOmHjycsDQogICAgICAgICAgICAgICAgdHlwZTogJ2JhcicsDQogICAgICAgICAgICAgICAgZGF0YTogc2VyaWVzRGF0YTMsDQogICAgICAgICAgICAgICAgaXRlbVN0eWxlOnsNCiAgICAgICAgICAgICAgICAgIGNvbG9yOicjMmRkZTk4Jw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1dDQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpew0KICAgIHRoaXMuZ2V0SG90Qm9vazUoKQ0KICAgIHRoaXMuZ2V0SG90UmVhZGVyMygpDQogICAgdGhpcy5nZXRIb3RDYXRlZ29yeTMoKQ0KICAgIHRoaXMuZHJhd0xpbmUoKQ0KICAgIC8vIGNvbnNvbGUubG9nKCJAIix0aGlzLkNhdGVnb3J5VG9wMykNCiAgfQ0KfQ0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/pages","sourcesContent":["<template>\r\n<div>\r\n  <div class=\"top-content\">\r\n      <el-card style=\"height:350px;width:400px\" id=\"echarts1\"></el-card>\r\n      <el-card style=\"height:350px;width:400px;\" id=\"echarts2\"></el-card>\r\n      <el-card style=\"height:350px;width:400px;\" id=\"echarts3\"></el-card>\r\n  </div>\r\n  <div class=\"bottom\">\r\n    <el-card style=\"height:200px;width:1000px\" class=\"bottom-content\">\r\n      <p>公告</p>\r\n      <div style=\"margin-top:12px\">\r\n        <span>{{this.reports[0].content}}</span>\r\n        <span style=\"margin-left:400px;font-size:12px;color:grey\">{{this.reports[0].time}}</span>\r\n        </div>\r\n    </el-card>\r\n  </div>\r\n</div>\r\n \r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts'\r\nimport { mapActions, mapState } from 'vuex'\r\nexport default {\r\n  name:'Home',\r\n  computed:{\r\n    ...mapState({\r\n       BookTop5:state => state.booklist.BookTop5,\r\n       ReaderTop3:state => state.booklist.ReaderTop3,\r\n       CategoryTop3:state => state.booklist.CategoryTop3,\r\n       reports:state => state.report.reports\r\n    })\r\n  },\r\n  methods:{\r\n    ...mapActions('booklist',{\r\n      getHotBook5:'getHotBook5',\r\n      getHotReader3:'getHotReader3',\r\n      getHotCategory3:'getHotCategory3'\r\n    }),\r\n    //热门图书\r\n    drawLine(){\r\n       //柱状图\r\n      let echarts1 = this.$echarts.init(document.getElementById('echarts1'))\r\n      let xAxis1 = []\r\n      let seriesData1 = []\r\n      for(let i = 0;i<this.BookTop5.length;i++){\r\n        xAxis1.push(this.BookTop5[i].bookName)\r\n        seriesData1.push(this.BookTop5[i].bookBorrowed)\r\n      }\r\n      echarts1.setOption({\r\n        title: { text: '热门图书TOP5' },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis1\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'line',\r\n                data: seriesData1\r\n            }]\r\n      })\r\n      let echarts2 = this.$echarts.init(document.getElementById('echarts2'))\r\n      let xAxis2 = []\r\n      let seriesData2 = []\r\n      console.log(\"@\",this.ReaderTop3)\r\n      for(let i = 0;i<this.ReaderTop3.length;i++){\r\n        xAxis2.push(this.ReaderTop3[i].readerName)\r\n        seriesData2.push(this.ReaderTop3[i].borrowNumber)\r\n      }\r\n      echarts2.setOption({\r\n        title: {\r\n          text:'热门读者TOP3',\r\n           },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis2\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'bar',\r\n                data: seriesData2,\r\n                itemStyle:{\r\n                  color:'#48a9c5'\r\n                }\r\n            }]\r\n      })\r\n      let echarts3 = this.$echarts.init(document.getElementById('echarts3'))\r\n      let xAxis3 = []\r\n      let seriesData3 = []\r\n      console.log(\"@\",this.CategoryTop3)\r\n      for(let i = 0;i<this.CategoryTop3.length;i++){\r\n        xAxis3.push(this.CategoryTop3[i].categoryName)\r\n        seriesData3.push(this.CategoryTop3[i].categoryBorrow)\r\n      }\r\n      // console.log(\"#\",xAxis3)\r\n      echarts3.setOption({\r\n        title: { text: '借阅分类排行' },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis3\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'bar',\r\n                data: seriesData3,\r\n                itemStyle:{\r\n                  color:'#2dde98'\r\n                }\r\n            }]\r\n      })\r\n    }\r\n  },\r\n  mounted(){\r\n    this.getHotBook5()\r\n    this.getHotReader3()\r\n    this.getHotCategory3()\r\n    this.drawLine()\r\n    // console.log(\"@\",this.CategoryTop3)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.top-content{\r\n  display: flex;\r\n  justify-items: center;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.bottom{\r\n  margin-top:38px;\r\n  .bottom-content{\r\n    margin:0 auto;\r\n  }\r\n}\r\n</style>"]}]}