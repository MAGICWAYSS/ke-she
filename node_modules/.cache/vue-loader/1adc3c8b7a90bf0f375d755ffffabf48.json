{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\AddProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\AddProduct.vue","mtime":1685282428226},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IHtiYXNlVVJMfSBmcm9tICIuLi8uLi9wdWJsaWMvdXJsQ29uZmlnIjsNCmltcG9ydCBOYXZpIGZyb20gIi4uL2NvbXBvbmVudHMvTmF2aSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkFkZFByb2R1Y3QiLA0KICBjb21wb25lbnRzOiB7TmF2aX0sDQogIGRhdGEoKXsNCiAgICByZXR1cm57DQogICAgICB2YWx1ZXM6W10sDQogICAgICBjYXRlZ29yaWVzOltdLA0KICAgICAgY2F0ZWdvcnlJZDoiIiwNCiAgICAgIHJvb3RDYXRlZ29yeUlkOiIiLA0KICAgICAgcHJvZHVjdEltZzpbXSwNCiAgICAgIGxpbWl0OjUsDQogICAgICBzdHI6IuagvOW8j+ekuuS+izp75Y+j5ZGzOltcIuWOn+WRs1wiLFwi54On54OkXCJdLOWMheijhTpbXCLmlrDljIXoo4VcIixcIuiAgeWMheijhVwiXX3vvIjlhajkuLroi7HmlofnrKblj7fvvIkiLA0KICAgICAgZGlhbG9nSW1hZ2VVcmw6ICcnLA0KICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsDQogICAgICBwYXJhbXM6ew0KICAgICAgICAicHJvZHVjdFBsYWNlIjoiIiwNCiAgICAgICAgImZvb3RQZXJpb2QiOiIiLA0KICAgICAgICAiYnJhbmQiOiIiLA0KICAgICAgICAiZmFjdG9yeU5hbWUiOiIiLA0KICAgICAgICAiZmFjdG9yeUFkZHJlc3MiOiIiLA0KICAgICAgICAicGFja2FnaW5nTWV0aG9kIjoiIiwNCiAgICAgICAgIndlaWdodCI6IiIsDQogICAgICAgICJzdG9yYWdlTWV0aG9kIjoiIiwNCiAgICAgICAgImVhdE1ldGhvZCI6IiIsDQogICAgICB9LA0KICAgICAgcGFyYW1zUnVsZXM6ew0KDQogICAgICB9LA0KICAgICAgcHJvcHM6ew0KICAgICAgICBleHBhbmRUcmlnZ2VyOiAnaG92ZXInLA0KICAgICAgICB2YWx1ZTonY2F0ZWdvcnlJZCcsDQogICAgICAgIGxhYmVsOidjYXRlZ29yeU5hbWUnLA0KICAgICAgICBjaGlsZHJlbjonY2F0ZWdvcmllcycNCiAgICAgIH0sDQogICAgICBydWxlRm9ybTp7DQogICAgICAgICJwcm9kdWN0TmFtZSI6IiIsDQogICAgICAgICJjb250ZW50IjoiIiwNCiAgICAgIH0sDQogICAgICBydWxlczp7DQogICAgICAgIHByb2R1Y3ROYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWVhuWTgeWQjeensCcsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgIHsgbWluOiAxLCBtYXg6IDE2LCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDEg5YiwIDE2IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgIF0sDQogICAgICAgIGNvbnRlbnQ6Ww0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4Hmj4/ov7AnLCB0cmlnZ2VyOiAnYmx1cicgfSwNCiAgICAgICAgICB7IG1pbjogMSwgIG1lc3NhZ2U6ICfkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgYWN0aW9uOiIiLA0KICAgICAgZHluYW1pY1ZhbGlkYXRlRm9ybTogew0KICAgICAgICBza3U6ICIiLA0KICAgICAgICBza3VOYW1lOiAnJywNCiAgICAgICAgb3JpZ2luYWxQcmljZTowLA0KICAgICAgICBzZWxsUHJpY2U6MCwNCiAgICAgICAgc3RvY2s6MCwNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5hY3Rpb24gPSBiYXNlVVJMDQogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInByb2R1Y3RJZCIpDQogICAgaWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpPT09bnVsbCl7DQogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLnmbvlvZXlkI7miY3lj6/mt7vliqDllYblk4EiKQ0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9sb2dpbicpDQogICAgfQ0KICB9LA0KICBtZXRob2RzOnsNCiAgICBnZXRsaXN0KCl7DQogICAgICBheGlvcy5nZXQoYmFzZVVSTCsiL2NhdGVnb3J5L2NhdGVnb3JpZXMiKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICBsZXQgYT1yZXNwb25zZS5kYXRhDQogICAgICAgIHRoaXMuY2F0ZWdvcmllcz10aGlzLnJlY3VyKGEpDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVjdXIoZGF0YSl7DQogICAgICBmb3IobGV0IGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7DQogICAgICAgIGZvciAobGV0IGo9MDtqPGRhdGFbaV0uY2F0ZWdvcmllcy5sZW5ndGg7aisrKXsNCiAgICAgICAgICBmb3IgKGxldCBrPTA7azxkYXRhW2ldLmNhdGVnb3JpZXNbal0uY2F0ZWdvcmllcy5sZW5ndGg7aysrKXsNCiAgICAgICAgICAgIGRhdGFbaV0uY2F0ZWdvcmllc1tqXS5jYXRlZ29yaWVzW2tdLmNhdGVnb3JpZXM9dW5kZWZpbmVkDQogICAgICAgICAgfQ0KDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBkYXRhDQogICAgfSwNCiAgICBoYW5kbGVDaGFuZ2UodmFsdWUpew0KICAgICAgdGhpcy5jYXRlZ29yeUlkPXZhbHVlWzJdDQogICAgICB0aGlzLnJvb3RDYXRlZ29yeUlkPXZhbHVlWzBdDQogICAgfSwNCiAgICBoYW5kbGVTdWNjZXNzKHJlc3BvbnNlLGZpbGUsIGZpbGVMaXN0KSB7DQogICAgICB0aGlzLnByb2R1Y3RJbWcucHVzaChyZXNwb25zZSkNCiAgICB9LA0KICAgIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7DQogICAgICB0aGlzLmRpYWxvZ0ltYWdlVXJsID0gZmlsZS51cmw7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgYWRkUHJvZHVjdCgpew0KICAgICAgdmFyIHByb2R1Y3Q9ew0KICAgICAgICAicHJvZHVjdE5hbWUiOnRoaXMucnVsZUZvcm0ucHJvZHVjdE5hbWUsDQogICAgICAgICJjb250ZW50Ijp0aGlzLnJ1bGVGb3JtLmNvbnRlbnQsDQogICAgICAgICJjYXRlZ29yeUlkIjp0aGlzLmNhdGVnb3J5SWQsDQogICAgICAgICJyb290Q2F0ZWdvcnlJZCI6dGhpcy5yb290Q2F0ZWdvcnlJZCwNCiAgICAgICAgInNvbGROdW0iOjAsDQogICAgICAgICJwcm9kdWN0U3RhdHVzIjoxLA0KICAgICAgfQ0KICAgICAgYXhpb3MucG9zdChiYXNlVVJMKyIvcHJvZHVjdHMvYWRkUHJvZHVjdCIscHJvZHVjdCkudGhlbigNCiAgICAgICAgICByZXM9Pntsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgicHJvZHVjdElkIixyZXMuZGF0YS50b1N0cmluZygpKQ0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqDmiJDlip8iKQ0KICAgICAgICAgIH0NCiAgICAgICkNCiAgICB9LA0KICAgIGFkZFBhcmFtcygpew0KICAgICAgdmFyIHBhcmFtcz17DQogICAgICAgICJwcm9kdWN0SWQiOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcm9kdWN0SWQiKSwNCiAgICAgICAgInByb2R1Y3RQbGFjZSI6dGhpcy5wYXJhbXMucHJvZHVjdFBsYWNlLA0KICAgICAgICAiZm9vdFBlcmlvZCI6dGhpcy5wYXJhbXMuZm9vdFBlcmlvZCwNCiAgICAgICAgImJyYW5kIjp0aGlzLnBhcmFtcy5icmFuZCwNCiAgICAgICAgImZhY3RvcnlOYW1lIjp0aGlzLnBhcmFtcy5mYWN0b3J5TmFtZSwNCiAgICAgICAgImZhY3RvcnlBZGRyZXNzIjp0aGlzLnBhcmFtcy5mYWN0b3J5QWRkcmVzcywNCiAgICAgICAgInBhY2thZ2luZ01ldGhvZCI6dGhpcy5wYXJhbXMucGFja2FnaW5nTWV0aG9kLA0KICAgICAgICAid2VpZ2h0Ijp0aGlzLnBhcmFtcy53ZWlnaHQsDQogICAgICAgICJzdG9yYWdlTWV0aG9kIjp0aGlzLnBhcmFtcy5zdG9yYWdlTWV0aG9kLA0KICAgICAgICAiZWF0TWV0aG9kIjp0aGlzLnBhcmFtcy5lYXRNZXRob2QsDQogICAgICB9DQogICAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCsiL3Byb2R1Y3QtcGFyYW1zL2FkZFBhcmFtcyIscGFyYW1zKS50aGVuKA0KICAgICAgICAgICAgcmVzPT57DQogICAgICAgICAgICAgIGlmKHJlcy5kYXRhPT09dHJ1ZSl0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpDQogICAgICAgICAgICAgIGVsc2UgdGhpcy4kbWVzc2FnZS5lcnJvcigi5L+d5a2Y5aSx6LSlIikNCiAgICAgICAgICAgIH0NCiAgICAgICAgKQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3RJbWcubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYoaT09PTApew0KICAgICAgICAgIHZhciBwcm9kdWN0SW1nPXsNCiAgICAgICAgICAgICJpdGVtSWQiOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcm9kdWN0SWQiKSwNCiAgICAgICAgICAgICJ1cmwiOnRoaXMucHJvZHVjdEltZ1tpXSwNCiAgICAgICAgICAgICJzb3J0IjoxLA0KICAgICAgICAgICAgImlzTWFpbiI6MQ0KICAgICAgICAgIH0NCiAgICAgICAgICBheGlvcy5wb3N0KGJhc2VVUkwrIi9wcm9kdWN0LWltZy9hZGRQcm9kdWN0SW1nIixwcm9kdWN0SW1nKQ0KICAgICAgICB9DQogICAgICAgIGVsc2V7DQogICAgICAgICAgdmFyIHByb2R1Y3RpbWc9ew0KICAgICAgICAgICAgIml0ZW1JZCI6bG9jYWxTdG9yYWdlLmdldEl0ZW0oInByb2R1Y3RJZCIpLA0KICAgICAgICAgICAgInVybCI6dGhpcy5wcm9kdWN0SW1nW2ldLA0KICAgICAgICAgICAgInNvcnQiOmkrMSwNCiAgICAgICAgICAgICJpc01haW4iOjANCiAgICAgICAgICB9DQogICAgICAgICAgYXhpb3MucG9zdChiYXNlVVJMKyIvcHJvZHVjdC1pbWcvYWRkUHJvZHVjdEltZyIscHJvZHVjdGltZykNCiAgICAgICAgfQ0KICAgICAgfQ0KDQogICAgfSwNCiAgICBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7DQogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgdGhpcy5hZGRTa3UoKQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnJvciBzdWJtaXQhIScpOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICByZXNldEZvcm0oZm9ybU5hbWUpIHsNCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7DQogICAgfSwNCiAgICBhZGRTa3UoKXsNCiAgICAgIHZhciBza3U9ew0KICAgICAgICAicHJvZHVjdElkIjpsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdElkIiksDQogICAgICAgICJza3VOYW1lIjp0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uc2t1TmFtZSwNCiAgICAgICAgIm9yaWdpbmFsUHJpY2UiOnRoaXMuZHluYW1pY1ZhbGlkYXRlRm9ybS5vcmlnaW5hbFByaWNlLA0KICAgICAgICAic2VsbFByaWNlIjp0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uc2VsbFByaWNlLA0KICAgICAgICAic3RvY2siOnRoaXMuZHluYW1pY1ZhbGlkYXRlRm9ybS5zdG9jaywNCiAgICAgICAgInVudGl0bGVkIjp0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uc2t1LA0KICAgICAgICAiZGlzY291bnRzIjoxLjANCiAgICAgIH0NCiAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCsiL3Byb2R1Y3Qtc2t1L2FkZFNrdSIsc2t1KS50aGVuKA0KICAgICAgICAgIHJlcz0+ew0KICAgICAgICAgICAgaWYocmVzLmRhdGE9PT10cnVlKXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIikNCiAgICAgICAgICAgIGVsc2UgdGhpcy4kbWVzc2FnZS5lcnJvcigi5re75Yqg5aSx6LSlIikNCiAgICAgICAgICB9DQogICAgICApDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["AddProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddProduct.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <Navi/>\r\n\r\n<div style=\"width: 60%;margin: 0 auto\">\r\n  <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\"  >\r\n    <el-form-item label=\"商品名称\" prop=\"productName\">\r\n      <el-input v-model=\"ruleForm.productName\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"商品描述\" prop=\"content\">\r\n      <el-input type=\"textarea\" v-model=\"ruleForm.content\"></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n  <el-row>\r\n    <el-col style=\"width: 30%;float: left\">\r\n      <span>商品分类：</span>\r\n    </el-col>\r\n    <el-col style=\"width: 30%;float: left\">\r\n      <el-cascader\r\n          v-model=\"values\"\r\n          style=\"float: left;margin: 5px\"\r\n          placeholder=\"试试搜索：手机\"\r\n          size=\"medium\"\r\n          :props=\"props\" @focus=\"getlist\"\r\n          :options=\"categories\" @change=\"handleChange\"\r\n          filterable clearable></el-cascader>\r\n    </el-col>\r\n\r\n  </el-row>\r\n<el-row>\r\n  <el-button type=\"primary\" @click=\"addProduct\">添加商品</el-button>\r\n</el-row>\r\n  <el-row>\r\n    <el-upload\r\n        :action=\"action+'/product-comments/upload'\"\r\n        list-type=\"picture-card\" :limit=\"limit\" :on-success=\"handleSuccess\"\r\n        :on-preview=\"handlePictureCardPreview\" style=\"float: left\">\r\n      <i class=\"el-icon-plus\"></i>\r\n    </el-upload>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n    </el-dialog>\r\n  </el-row>\r\n  <el-row>\r\n    <el-form :model=\"params\" :rules=\"paramsRules\" ref=\"params\" label-width=\"100px\">\r\n      <el-form-item label=\"商品生产地\" prop=\"productPlace\">\r\n        <el-input v-model=\"params.productPlace\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品有效期\" prop=\"footPeriod\">\r\n        <el-input v-model=\"params.footPeriod\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品品牌\" prop=\"brand\">\r\n        <el-input v-model=\"params.brand\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"生产厂名\" prop=\"factoryName\">\r\n        <el-input v-model=\"params.factoryName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"产地详细地址\" prop=\"factoryAddress\">\r\n        <el-input v-model=\"params.factoryAddress\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"包装方式\" prop=\"packagingMethod\">\r\n        <el-input v-model=\"params.packagingMethod\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"规格重量\" prop=\"weight\">\r\n        <el-input v-model=\"params.weight\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"储存方式\" prop=\"storageMethod\">\r\n        <el-input v-model=\"params.storageMethod\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"食用方式\" prop=\"eatMethod\">\r\n        <el-input v-model=\"params.eatMethod\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-row>\r\n  <el-row>\r\n    <el-button type=\"primary\" @click=\"addParams\">保存商品参数</el-button>\r\n  </el-row>\r\n  <el-row>\r\n    <el-form :model=\"dynamicValidateForm\" ref=\"dynamicValidateForm\" label-width=\"100px\" class=\"demo-dynamic\">\r\n      <el-form-item\r\n          prop=\"skuName\"\r\n          label=\"套餐名\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.skuName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"originalPrice\"\r\n          label=\"原价\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.originalPrice\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"sellPrice\"\r\n          label=\"现价\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.sellPrice\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"stock\"\r\n          label=\"库存\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.stock\" ></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"sku\"\r\n          label=\"属性集合\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.sku\" :placeholder=\"str\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\">提交</el-button>\r\n        <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-row>\r\n</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {baseURL} from \"../../public/urlConfig\";\r\nimport Navi from \"../components/Navi\";\r\n\r\nexport default {\r\n  name: \"AddProduct\",\r\n  components: {Navi},\r\n  data(){\r\n    return{\r\n      values:[],\r\n      categories:[],\r\n      categoryId:\"\",\r\n      rootCategoryId:\"\",\r\n      productImg:[],\r\n      limit:5,\r\n      str:\"格式示例:{口味:[\\\"原味\\\",\\\"烧烤\\\"],包装:[\\\"新包装\\\",\\\"老包装\\\"]}（全为英文符号）\",\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      params:{\r\n        \"productPlace\":\"\",\r\n        \"footPeriod\":\"\",\r\n        \"brand\":\"\",\r\n        \"factoryName\":\"\",\r\n        \"factoryAddress\":\"\",\r\n        \"packagingMethod\":\"\",\r\n        \"weight\":\"\",\r\n        \"storageMethod\":\"\",\r\n        \"eatMethod\":\"\",\r\n      },\r\n      paramsRules:{\r\n\r\n      },\r\n      props:{\r\n        expandTrigger: 'hover',\r\n        value:'categoryId',\r\n        label:'categoryName',\r\n        children:'categories'\r\n      },\r\n      ruleForm:{\r\n        \"productName\":\"\",\r\n        \"content\":\"\",\r\n      },\r\n      rules:{\r\n        productName: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' },\r\n          { min: 1, max: 16, message: '长度在 1 到 16 个字符', trigger: 'blur' }\r\n        ],\r\n        content:[\r\n          { required: true, message: '请输入商品描述', trigger: 'blur' },\r\n          { min: 1,  message: '不能为空', trigger: 'blur' }\r\n        ]\r\n      },\r\n      action:\"\",\r\n      dynamicValidateForm: {\r\n        sku: \"\",\r\n        skuName: '',\r\n        originalPrice:0,\r\n        sellPrice:0,\r\n        stock:0,\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.action = baseURL\r\n    localStorage.removeItem(\"productId\")\r\n    if(localStorage.getItem(\"userId\")===null){\r\n      this.$message.error(\"登录后才可添加商品\")\r\n      this.$router.push('/login')\r\n    }\r\n  },\r\n  methods:{\r\n    getlist(){\r\n      axios.get(baseURL+\"/category/categories\").then((response) => {\r\n        let a=response.data\r\n        this.categories=this.recur(a)\r\n      })\r\n    },\r\n    recur(data){\r\n      for(let i=0;i<data.length;i++){\r\n        for (let j=0;j<data[i].categories.length;j++){\r\n          for (let k=0;k<data[i].categories[j].categories.length;k++){\r\n            data[i].categories[j].categories[k].categories=undefined\r\n          }\r\n\r\n        }\r\n      }\r\n      return data\r\n    },\r\n    handleChange(value){\r\n      this.categoryId=value[2]\r\n      this.rootCategoryId=value[0]\r\n    },\r\n    handleSuccess(response,file, fileList) {\r\n      this.productImg.push(response)\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    addProduct(){\r\n      var product={\r\n        \"productName\":this.ruleForm.productName,\r\n        \"content\":this.ruleForm.content,\r\n        \"categoryId\":this.categoryId,\r\n        \"rootCategoryId\":this.rootCategoryId,\r\n        \"soldNum\":0,\r\n        \"productStatus\":1,\r\n      }\r\n      axios.post(baseURL+\"/products/addProduct\",product).then(\r\n          res=>{localStorage.setItem(\"productId\",res.data.toString())\r\n            this.$message.success(\"添加成功\")\r\n          }\r\n      )\r\n    },\r\n    addParams(){\r\n      var params={\r\n        \"productId\":localStorage.getItem(\"productId\"),\r\n        \"productPlace\":this.params.productPlace,\r\n        \"footPeriod\":this.params.footPeriod,\r\n        \"brand\":this.params.brand,\r\n        \"factoryName\":this.params.factoryName,\r\n        \"factoryAddress\":this.params.factoryAddress,\r\n        \"packagingMethod\":this.params.packagingMethod,\r\n        \"weight\":this.params.weight,\r\n        \"storageMethod\":this.params.storageMethod,\r\n        \"eatMethod\":this.params.eatMethod,\r\n      }\r\n        axios.post(baseURL+\"/product-params/addParams\",params).then(\r\n            res=>{\r\n              if(res.data===true)this.$message.success(\"保存成功\")\r\n              else this.$message.error(\"保存失败\")\r\n            }\r\n        )\r\n      for (let i = 0; i < this.productImg.length; i++) {\r\n        if(i===0){\r\n          var productImg={\r\n            \"itemId\":localStorage.getItem(\"productId\"),\r\n            \"url\":this.productImg[i],\r\n            \"sort\":1,\r\n            \"isMain\":1\r\n          }\r\n          axios.post(baseURL+\"/product-img/addProductImg\",productImg)\r\n        }\r\n        else{\r\n          var productimg={\r\n            \"itemId\":localStorage.getItem(\"productId\"),\r\n            \"url\":this.productImg[i],\r\n            \"sort\":i+1,\r\n            \"isMain\":0\r\n          }\r\n          axios.post(baseURL+\"/product-img/addProductImg\",productimg)\r\n        }\r\n      }\r\n\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.addSku()\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    addSku(){\r\n      var sku={\r\n        \"productId\":localStorage.getItem(\"productId\"),\r\n        \"skuName\":this.dynamicValidateForm.skuName,\r\n        \"originalPrice\":this.dynamicValidateForm.originalPrice,\r\n        \"sellPrice\":this.dynamicValidateForm.sellPrice,\r\n        \"stock\":this.dynamicValidateForm.stock,\r\n        \"untitled\":this.dynamicValidateForm.sku,\r\n        \"discounts\":1.0\r\n      }\r\n      axios.post(baseURL+\"/product-sku/addSku\",sku).then(\r\n          res=>{\r\n            if(res.data===true)this.$message.success(\"添加成功\")\r\n            else this.$message.error(\"添加失败\")\r\n          }\r\n      )\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}