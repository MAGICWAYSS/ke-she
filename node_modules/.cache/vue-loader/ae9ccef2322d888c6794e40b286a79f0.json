{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\components\\Address.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\components\\Address.vue","mtime":1684853305557},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7YmFzZVVSTH0gZnJvbSAiLi4vLi4vcHVibGljL3VybENvbmZpZyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZHJlc3MiLAogIHByb3BzOlsndXNlckFkZHInLCdkaWFsb2dGb3JtVmlzaWJsZSddLAogIGRhdGEoKXsKICAgIHJldHVybnsKICAgICAgdmFsdWVzOltdLAogICAgICBkaXN0cmljdHM6W10sCiAgICAgIHByb3BzOnsKICAgICAgICBleHBhbmRUcmlnZ2VyOiAnaG92ZXInLAogICAgICAgIHZhbHVlOiduYW1lJywKICAgICAgICBsYWJlbDonbmFtZScsCiAgICAgICAgY2hpbGRyZW46J2Rpc3RyaWN0cycKICAgICAgfSwKICAgICAgcHJvdmluY2U6ICIiLAogICAgICBjaXR5OiAiIiwKICAgICAgYXJlYTogIiIsCiAgICAgIG5hbWU6IiIsCiAgICAgIHBob25lOiIiLAogICAgICBjb2RlOiIiLAogICAgICBjaGVja2VkSXRlbToiIiwKICAgICAgbGlzdDpbXSwKICAgICAgYWRkcjoiIiwKICAgICAgdXNlcklkOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VySWQiKSwKICAgICAgZGFmYXVsdDp0cnVlLAogICAgfQogIH0sCgogIG1ldGhvZHM6ewogICAgbG9hZCgpewogICAgICBheGlvcy5nZXQoYmFzZVVSTCsiL3VzZXItYWRkci9hZGRyLyIrdGhpcy51c2VySWQpLnRoZW4oCiAgICAgICAgICByZXM9Pnt0aGlzLnVzZXJBZGRyPXJlcy5kYXRhfSkKICAgIH0sCiAgICBxdWVyeVNlYXJjaChxdWVyeVN0cmluZywgY2IpIHsKICAgICAgYXhpb3MuZ2V0KCJodHRwczovL3Jlc3RhcGkuYW1hcC5jb20vdjMvcGxhY2UvdGV4dCIsewogICAgICAgIHBhcmFtczp7CiAgICAgICAgICBrZXk6ICcxOTgzYmUzMzFjNDhlZjI4ODY3ZjYxZTYxZjg3ODk4NycsICAgLy8g6L+Z5Liq5piv55Sz6K+355qEIEtlee+8jOiHquihjOWGmeWFpQogICAgICAgICAga2V5d29yZHM6cXVlcnlTdHJpbmcsCiAgICAgICAgICBjaXR5OnRoaXMuY2l0eT90aGlzLmNpdHk6bnVsbAogICAgICAgIH0KICAgICAgfSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIC8vIOiOt+W+l+i/lOWbnueahOaVsOaNrgogICAgICAgICAgICBsZXQgbGlzdHMgPSByZXMuZGF0YS5wb2lzOwogICAgICAgICAgICAvLyDnu4Too4XmiJBhdXRvQ29tcGxldGXnu4Tku7bmiYDpnIDopoHnmoTmlbDmja7nu5PmnoQKICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBbXTsKICAgICAgICAgICAgbGlzdHMubWFwKChpdGVtKSA9PiB7CiAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsKICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmFkZHJlc3MsCiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICAicHJvdmluY2UiOml0ZW0ucG5hbWUsCiAgICAgICAgICAgICAgICAiY2l0eSI6aXRlbS5jaXR5bmFtZSwKICAgICAgICAgICAgICAgICJhcmVhIjppdGVtLmFkbmFtZSwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIC8vIOiwg+eUqCBjYWxsYmFjayDov5Tlm57lu7rorq7liJfooajnmoTmlbDmja4KICAgICAgICAgICAgY2IocmVzdWx0cyk7CiAgICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3QoaXRlbSl7CiAgICAgIHRoaXMucHJvdmluY2U9aXRlbS5wcm92aW5jZQogICAgICB0aGlzLmNpdHk9aXRlbS5jaXR5CiAgICAgIHRoaXMuYXJlYT1pdGVtLmFyZWEKICAgICAgdGhpcy5hZGRyPWl0ZW0udmFsdWUKICAgIH0sCiAgICBnZXRsaXN0KCl7CiAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9yZXN0YXBpLmFtYXAuY29tL3YzL2NvbmZpZy9kaXN0cmljdCcseyAgIC8vIOmrmOW+t+WcsOWbvueahEFQSQogICAgICAgIHBhcmFtczp7CiAgICAgICAgICBrZXk6ICcxOTgzYmUzMzFjNDhlZjI4ODY3ZjYxZTYxZjg3ODk4NycsICAgLy8g6L+Z5Liq5piv55Sz6K+355qEIEtlee+8jOiHquihjOWGmeWFpQogICAgICAgICAga2V5d29yZHM6ICfkuK3lm70nLAogICAgICAgICAgc3ViZGlzdHJpY3Q6IDMsCiAgICAgICAgICBleHRlbnNpb25zOiAnYmFzZScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgbGV0IGE9cmVzcG9uc2UuZGF0YS5kaXN0cmljdHNbMF0uZGlzdHJpY3RzCiAgICAgICAgdGhpcy5kaXN0cmljdHM9dGhpcy5yZWN1cihhKQogICAgICB9KQogICAgfSwKICAgIHJlY3VyKGRhdGEpewogICAgICBmb3IobGV0IGk9MDtpPGRhdGEubGVuZ3RoO2krKyl7CiAgICAgICAgZm9yIChsZXQgaj0wO2o8ZGF0YVtpXS5kaXN0cmljdHMubGVuZ3RoO2orKyl7CiAgICAgICAgICBmb3IgKGxldCBrPTA7azxkYXRhW2ldLmRpc3RyaWN0c1tqXS5kaXN0cmljdHMubGVuZ3RoO2srKyl7CiAgICAgICAgICAgIGRhdGFbaV0uZGlzdHJpY3RzW2pdLmRpc3RyaWN0c1trXS5kaXN0cmljdHM9dW5kZWZpbmVkCiAgICAgICAgICB9CgogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZGF0YQogICAgfSwKICAgIGhhbmRsZUNoYW5nZSh2YWx1ZSl7CiAgICAgIHRoaXMucHJvdmluY2U9dmFsdWVbMF0KICAgICAgdGhpcy5jaXR5PXZhbHVlWzFdCiAgICAgIHRoaXMuYXJlYT12YWx1ZVsyXQogICAgfSwKICAgIGFkZCgpewogICAgICB2YXIgYWRkcj17CiAgICAgICAgInVzZXJJZCI6bG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLAogICAgICAgICJyZWNlaXZlck5hbWUiOnRoaXMubmFtZSwKICAgICAgICAicmVjZWl2ZXJNb2JpbGUiOnRoaXMucGhvbmUsCiAgICAgICAgInByb3ZpbmNlIjp0aGlzLnByb3ZpbmNlLAogICAgICAgICJjaXR5Ijp0aGlzLmNpdHksCiAgICAgICAgImFyZWEiOnRoaXMuYXJlYSwKICAgICAgICAiYWRkciI6dGhpcy5hZGRyLAogICAgICAgICJwb3N0Q29kZSI6dGhpcy5jb2RlLAogICAgICAgICJzdGF0dXMiOjEsCiAgICAgICAgImNvbW1vbkFkZHIiOjAsCiAgICAgIH0KICAgICAgYXhpb3MucG9zdChiYXNlVVJMKyIvdXNlci1hZGRyL2FkZEFkZHIiLGFkZHIpLnRoZW4oCiAgICAgICAgICByZXM9PnsKICAgICAgICAgICAgaWYocmVzLmRhdGE9PT10cnVlKXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5re75Yqg5oiQ5YqfIikKICAgICAgICAgICAgZWxzZSB0aGlzLiRtZXNzYWdlLmVycm9yKCLmt7vliqDlpLHotKUiKQogICAgICAgICAgICB0aGlzLmxvYWQoKQogICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlPWZhbHNlCiAgICAgICAgICAgIHRoaXMuJGVtaXQoIml0ZW1jbGljayIsdGhpcy51c2VyQWRkcikKICAgICAgICAgIH0KICAgICAgKQogICAgfSwKICAgIHVwZGF0ZShpZCl7CiAgICAgIGF4aW9zLmdldChiYXNlVVJMKyIvdXNlci1hZGRyL3VwZGF0ZUNvbW1vbkFkZHIiLHsKICAgICAgICBwYXJhbXM6ewogICAgICAgICAgaWQ6aWQKICAgICAgICB9CiAgICAgIH0pLnRoZW4oCiAgICAgICAgICByZXM9PnsKICAgICAgICAgICAgaWYocmVzLmRhdGE9PT10cnVlKXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5L+u5pS55oiQ5YqfIikKICAgICAgICAgICAgZWxzZSB0aGlzLiRtZXNzYWdlLmVycm9yKCLkv67mlLnlpLHotKUiKQogICAgICAgICAgICB0aGlzLmxvYWQoKQogICAgICAgICAgfQogICAgICApCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Address.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Address.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<div>\n  <el-row>\n    <el-col>\n      <span style=\"float: left;margin: 5px\">收货人名：</span>\n      <el-input v-model=\"name\" placeholder=\"请输入内容\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\n    </el-col>\n    <el-col>\n      <span style=\"float: left;margin: 5px\">手机号码：</span>\n      <el-input v-model=\"phone\" placeholder=\"11位手机号\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\n    </el-col>\n    <el-col >\n      <span style=\"float: left;margin: 5px\">地址信息：</span>\n      <el-cascader\n          v-model=\"values\"\n          style=\"float: left;margin: 5px\"\n          placeholder=\"试试搜索：南昌\"\n          size=\"medium\"\n          :props=\"props\" @focus=\"getlist\"\n          :options=\"districts\" @change=\"handleChange\"\n          filterable clearable></el-cascader>\n    </el-col>\n    <el-col>\n      <span\n          style=\"float: left;margin: 5px\">详细地址：</span>\n      <el-autocomplete\n          v-model=\"checkedItem\" style=\"float: left;margin: 5px\"\n          :fetch-suggestions=\"querySearch\"\n          placeholder=\"请输入详细地址\"\n          :trigger-on-focus=\"false\"\n          @select=\"handleSelect\"\n      ></el-autocomplete>\n    </el-col>\n    <el-col>\n      <span style=\"float: left;margin: 5px\">邮政编码：</span>\n      <el-input v-model=\"code\" placeholder=\"6位邮编\" style=\"float: left;margin: 5px;width: 20%\"></el-input>\n    </el-col>\n<!--    <el-col>\n      <el-switch v-model=\"dafault\" style=\"float: left\" active-text=\"默认地址\"></el-switch>\n    </el-col>-->\n    <el-col>\n      <el-button type=\"primary\" plain @click=\"add\" style=\"float: left;margin: 10px\">保存</el-button>\n    </el-col>\n  </el-row>\n\n</div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {baseURL} from \"../../public/urlConfig\";\n\nexport default {\n  name: \"Address\",\n  props:['userAddr','dialogFormVisible'],\n  data(){\n    return{\n      values:[],\n      districts:[],\n      props:{\n        expandTrigger: 'hover',\n        value:'name',\n        label:'name',\n        children:'districts'\n      },\n      province: \"\",\n      city: \"\",\n      area: \"\",\n      name:\"\",\n      phone:\"\",\n      code:\"\",\n      checkedItem:\"\",\n      list:[],\n      addr:\"\",\n      userId:localStorage.getItem(\"userId\"),\n      dafault:true,\n    }\n  },\n\n  methods:{\n    load(){\n      axios.get(baseURL+\"/user-addr/addr/\"+this.userId).then(\n          res=>{this.userAddr=res.data})\n    },\n    querySearch(queryString, cb) {\n      axios.get(\"https://restapi.amap.com/v3/place/text\",{\n        params:{\n          key: '1983be331c48ef28867f61e61f878987',   // 这个是申请的 Key，自行写入\n          keywords:queryString,\n          city:this.city?this.city:null\n        }\n      }).then((res) => {\n            // 获得返回的数据\n            let lists = res.data.pois;\n            // 组装成autoComplete组件所需要的数据结构\n            let results = [];\n            lists.map((item) => {\n              results.push({\n                value: item.address,\n                name: item.name,\n                \"province\":item.pname,\n                \"city\":item.cityname,\n                \"area\":item.adname,\n              });\n            });\n            // 调用 callback 返回建议列表的数据\n            cb(results);\n          });\n    },\n    handleSelect(item){\n      this.province=item.province\n      this.city=item.city\n      this.area=item.area\n      this.addr=item.value\n    },\n    getlist(){\n      axios.get('https://restapi.amap.com/v3/config/district',{   // 高德地图的API\n        params:{\n          key: '1983be331c48ef28867f61e61f878987',   // 这个是申请的 Key，自行写入\n          keywords: '中国',\n          subdistrict: 3,\n          extensions: 'base'\n        }\n      }).then((response) => {\n        let a=response.data.districts[0].districts\n        this.districts=this.recur(a)\n      })\n    },\n    recur(data){\n      for(let i=0;i<data.length;i++){\n        for (let j=0;j<data[i].districts.length;j++){\n          for (let k=0;k<data[i].districts[j].districts.length;k++){\n            data[i].districts[j].districts[k].districts=undefined\n          }\n\n        }\n      }\n      return data\n    },\n    handleChange(value){\n      this.province=value[0]\n      this.city=value[1]\n      this.area=value[2]\n    },\n    add(){\n      var addr={\n        \"userId\":localStorage.getItem(\"userId\"),\n        \"receiverName\":this.name,\n        \"receiverMobile\":this.phone,\n        \"province\":this.province,\n        \"city\":this.city,\n        \"area\":this.area,\n        \"addr\":this.addr,\n        \"postCode\":this.code,\n        \"status\":1,\n        \"commonAddr\":0,\n      }\n      axios.post(baseURL+\"/user-addr/addAddr\",addr).then(\n          res=>{\n            if(res.data===true)this.$message.success(\"添加成功\")\n            else this.$message.error(\"添加失败\")\n            this.load()\n            this.dialogFormVisible=false\n            this.$emit(\"itemclick\",this.userAddr)\n          }\n      )\n    },\n    update(id){\n      axios.get(baseURL+\"/user-addr/updateCommonAddr\",{\n        params:{\n          id:id\n        }\n      }).then(\n          res=>{\n            if(res.data===true)this.$message.success(\"修改成功\")\n            else this.$message.error(\"修改失败\")\n            this.load()\n          }\n      )\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"]}]}