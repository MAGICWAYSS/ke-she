{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\Order.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\Order.vue","mtime":1684853306264},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7YmFzZVVSTH0gZnJvbSAiLi4vLi4vcHVibGljL3VybENvbmZpZyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKaW1wb3J0IEFkZHJlc3MgZnJvbSAiLi4vY29tcG9uZW50cy9BZGRyZXNzIjsKbGV0IHRva2VuPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiT3JkZXIiLAogIGNvbXBvbmVudHM6IHtBZGRyZXNzfSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIHVzZXJuYW1lOmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VybmFtZSIpLAogICAgICBpbWc6bG9jYWxTdG9yYWdlLmdldEl0ZW0oImltZyIpLAogICAgICB1c2VySWQ6bG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLAogICAgICBjaWRzOltdLAogICAgICB1c2VyQWRkcjpbXSwKICAgICAgcHJvZHVjdExpc3Q6W10sCiAgICAgIHN1bTowLAogICAgICBhZGRySW5kZXg6MCwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBmb3JtTGFiZWxXaWR0aDogJzEyMHB4JywKICAgICAgZm9ybTogewogICAgICAgIHVzZXJJZDogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLAogICAgICAgIHJlY2VpdmVyTmFtZTogJycsCiAgICAgICAgcmVjZWl2ZXJNb2JpbGU6ICcnLAogICAgICAgIHByb3ZpbmNlOiAnJywKICAgICAgICBjaXR5OiIiLAogICAgICAgIGFyZWE6ICIiLAogICAgICAgIGFkZHI6ICcnLAogICAgICAgIHBvc3RDb2RlOiAnJywKICAgICAgICBzdGF0dXM6MSwKICAgICAgICBjb21tb25BZGRyOjAsCiAgICAgIH0sCiAgICAgIG9yZGVyaWQ6IiIsCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5jaWRzPXRoaXMuJHJvdXRlLnF1ZXJ5LmNpZHMKICAgIHRoaXMubG9hZCgpCiAgfSwKICBtZXRob2RzOnsKICAgIGxvYWQoKXsKICAgICAgYXhpb3MuZ2V0KGJhc2VVUkwrIi91c2VyLWFkZHIvYWRkci8iK3RoaXMudXNlcklkKS50aGVuKAogICAgICAgICAgcmVzPT57dGhpcy51c2VyQWRkcj1yZXMuZGF0YQogICAgICAgICAgICBmb3IodmFyIGk9MDsgaTx0aGlzLnVzZXJBZGRyLmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICBpZih0aGlzLnVzZXJBZGRyW2ldLmNvbW1vbkFkZHIgPT0gMSl7CiAgICAgICAgICAgICAgICB0aGlzLmFkZHJJbmRleCA9IGk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICkKICAgICAgbGV0IHM9IiIKICAgICAgYXhpb3MucG9zdChiYXNlVVJMKyIvc2hvcHBpbmctY2FydC9saXN0QnlDYXJ0SWQiLHM9IHRoaXMuY2lkcy5zcGxpdCgiLCIpLHsKICAgICAgICBoZWFkZXJzOnt0b2tlbjp0b2tlbn19KS50aGVuKAogICAgICAgICAgcmVzPT57dGhpcy5wcm9kdWN0TGlzdD1yZXMuZGF0YQogICAgICAgICAgICBsZXQgYT10aGlzLnByb2R1Y3RMaXN0CiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8YS5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgICB0aGlzLnN1bSs9YVtpXS5zZWxsUHJpY2UqYVtpXS5jYXJ0TnVtCiAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICApCiAgICB9LAogICAgY2hpbGRjbGljayhpdGVtKXsKICAgICAgdGhpcy51c2VyQWRkcj1pdGVtCiAgICAgIHRoaXMubG9hZCgpCiAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGU9ZmFsc2UKICAgIH0sCiAgICBsb2dvdXQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VybmFtZSIpCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJpbWciKQogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidG9rZW4iKQogICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlcklkIikKICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLpgIDlh7rmiJDlip8iKQogICAgICB0aGlzLnVzZXJuYW1lPSIiCiAgICB9LAogICAgcGVyc29uKCl7CiAgICAgIHRoaXMudXNlcm5hbWU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJuYW1lIikKICAgICAgcm91dGVyLnB1c2goIi9wZXJzb24iKQogICAgfSwKICAgIGxvZ2luKCl7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL2xvZ2luJywKICAgICAgICBxdWVyeTp7CiAgICAgICAgICByZWRpcmVjdDogcm91dGVyLmN1cnJlbnRSb3V0ZS5mdWxsUGF0aCAgLy8g6Ziy5q2i5LuO5aSW6YOo6L+b5p2l55m75b2VCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGFkZE9yZGVyKCl7CiAgICAgIHZhciBvcmRlciA9IHsKICAgICAgICAiYWN0dWFsQW1vdW50IjogdGhpcy5zdW0sCiAgICAgICAgIm9yZGVyUmVtYXJrIjogdGhpcy5vcmRlclJlbWFyaywKICAgICAgICAicmVjZWl2ZXJBZGRyZXNzIjogIHRoaXMudXNlckFkZHJbdGhpcy5hZGRySW5kZXhdLnByb3ZpbmNlICsgIiAiICt0aGlzLnVzZXJBZGRyW3RoaXMuYWRkckluZGV4XS5jaXR5KyIgIgogICAgICAgICAgICArdGhpcy51c2VyQWRkclt0aGlzLmFkZHJJbmRleF0uYXJlYSsiICIgK3RoaXMudXNlckFkZHJbdGhpcy5hZGRySW5kZXhdLmFkZHIsCiAgICAgICAgInJlY2VpdmVyTW9iaWxlIjogdGhpcy51c2VyQWRkclt0aGlzLmFkZHJJbmRleF0ucmVjZWl2ZXJNb2JpbGUsCiAgICAgICAgInJlY2VpdmVyTmFtZSI6IHRoaXMudXNlckFkZHJbdGhpcy5hZGRySW5kZXhdLnJlY2VpdmVyTmFtZSwKICAgICAgICAidG90YWxBbW91bnQiOiB0aGlzLnN1bSwKICAgICAgICAidXNlcklkIjogdGhpcy51c2VySWQKICAgICAgfTsKICAgICAgYXhpb3MucG9zdChiYXNlVVJMKyIvb3JkZXJzL2FkZCIsb3JkZXIsewogICAgICAgIGhlYWRlcnM6ewogICAgICAgICAgdG9rZW46bG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIikKICAgICAgICB9LAogICAgICAgIHBhcmFtczp7CiAgICAgICAgICBjYXJ0SWQ6IHRoaXMuY2lkcwogICAgICAgIH0sfSkudGhlbigocmVzKT0+ewogICAgICAgICAgZG9jdW1lbnQud3JpdGUocmVzLmRhdGEpCi8qICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGF5U3VjY2Vzcz9vcmRlcklkPSIrcmVzLmRhdGEuZGF0YSkqLwogICAgICB9KTsKICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["Order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Order.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div style=\"background-color: #F5F5F5;\">\n      <el-row style=\"width: 80%;margin: 0 auto\">\n        <el-col :span=\"12\" style=\"margin-top: 5px;margin-bottom: 5px\">\n          <div v-if=!username style=\"float: left\">\n            <el-link :underline=\"false\" @click=\"login\">登录</el-link>\n            <el-divider direction=\"vertical\"></el-divider>\n            <el-link :underline=\"false\" href=\"/register\">注册</el-link>\n            <!--            <el-link @click=\"up\">更新状态</el-link>-->\n          </div>\n          <div v-else style=\"float: left\">\n            <el-dropdown>\n              <span class=\"el-dropdown-link\">\n                <el-link :underline=\"false\" href=\"/person\" icon=\"el-icon-user-solid\">{{ username }}</el-link> <i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item style=\"width: 150px;height: 60px\">\n                  <el-row :gutter=\"20\">\n                    <el-col :span=\"8\"><el-avatar :src=\"'http://localhost:9090/img/'+img\" style=\"margin-top: 5px\"></el-avatar></el-col>\n                    <el-col :span=\"16\">\n                      <el-link :underline=\"false\" href=\"/person\">个人中心</el-link>\n                      <el-link :underline=\"false\" @click=\"logout\" >退出登录</el-link>\n                    </el-col>\n                  </el-row>\n                </el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n            <el-divider direction=\"vertical\"></el-divider>\n\n          </div>\n        </el-col>\n        <el-col :span=\"12\"style=\"margin-top: 5px;margin-bottom: 5px\">\n          <div style=\"float: right;\">\n            <el-link :underline=\"false\" href=\"/\">商城首页</el-link>\n            <el-divider direction=\"vertical\"></el-divider>\n            <el-link :underline=\"false\" href=\"/login\">我的订单</el-link>\n            <el-divider direction=\"vertical\"></el-divider>\n            <el-link :underline=\"false\" :href=\"'/shopcart?uid='+userId\" icon=\"el-icon-shopping-cart-2\">我的购物车</el-link>\n            <el-divider direction=\"vertical\"></el-divider>\n            <el-link :underline=\"false\" href=\"/addProduct\">商家后台</el-link>\n            <el-divider direction=\"vertical\"></el-divider>\n            <el-link :underline=\"false\" href=\"/history\">我的足迹</el-link>\n\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n    <el-row style=\"width: 80%;margin: 0 auto;top: 10px\">\n      <el-col :span=\"8\">\n        <el-link href=\"/\" style=\"float: left\" :underline=\"false\">\n          <img src=\"../assets/logo.png\"  width=\"130px\" >\n        </el-link>\n      </el-col>\n      <el-col :span=\"16\">\n        <el-steps :active=\"1\" align-center style=\"\">\n          <el-step title=\"步骤1\" description=\"购物车结算\"></el-step>\n          <el-step title=\"步骤2\" description=\"核对订单信息\"></el-step>\n          <el-step title=\"步骤3\" description=\"成功提交订单\"></el-step>\n        </el-steps>\n      </el-col>\n    </el-row>\n    <el-row style=\"width: 80%;margin: 0 auto;padding-top: 10px\"><h4 style=\"float: left\">选择收货地址</h4></el-row>\n    <el-row style=\"width: 80%;margin: 0 auto;padding: 10px\" v-if=\"userAddr!==undefined&&userAddr.length>0\">\n      <el-radio-group style=\"float: left;margin: 5px;\" v-model=\"addrIndex\" v-for=\"(item,ind) in userAddr\">\n        <el-radio-button  style=\"margin: 5px\" :label=\"ind\">\n          <el-descriptions   border>\n            <el-descriptions-item label=\"收货人\">{{item.receiverName}}</el-descriptions-item>\n            <el-descriptions-item label=\"手机号\">{{item.receiverMobile}}</el-descriptions-item>\n            <el-descriptions-item label=\"省市\">{{item.province}} {{item.city}}</el-descriptions-item>\n            <el-descriptions-item label=\"地址\">{{item.area}}{{item.addr}}</el-descriptions-item>\n            <el-descriptions-item label=\"邮编\">{{item.postCode}}</el-descriptions-item>\n          </el-descriptions>\n        </el-radio-button>\n      </el-radio-group>\n\n    </el-row>\n    <el-row style=\"width: 80%;margin: 0 auto;padding: 10px\">\n      <el-button type=\"text\" @click=\"dialogFormVisible = true\" style=\"float: left\">添加新地址</el-button>\n    </el-row>\n    <el-dialog title=\"收货地址\" :visible.sync=\"dialogFormVisible\">\n      <Address :user-addr=\"userAddr\" @itemclick=\"childclick\"></Address>\n    </el-dialog>\n    <el-row style=\"width: 80%;margin: 0 auto;padding: 10px\"><h4 style=\"float: left\">确认订单信息</h4></el-row>\n    <el-row>\n      <el-table\n          v-loading=\"loading\"\n          element-loading-text=\"拼命加载中\"\n          element-loading-spinner=\"el-icon-loading\"\n          element-loading-background=\"rgba(0, 0, 0, 0.8)\"\n          :data=\"productList\"\n          style=\"width: 80%;margin: 0 auto;\">\n        <el-table-column type=\"expand\">\n          <template slot-scope=\"props\">\n            <el-form inline style=\"font-size:0;margin-left: 5px;margin-bottom: 0;color:rgb(102,120,180)\" >\n              <el-form-item label=\"商品ID：\">\n                <span>{{ props.row.productId }}</span>\n              </el-form-item>\n              <el-form-item label=\"商品名称：\">\n                <span>{{ props.row.productName }}</span>\n              </el-form-item>\n              <el-form-item label=\"套餐名：\">\n                <span>{{ props.row.skuName }}</span>\n              </el-form-item>\n              <el-form-item label=\"套餐属性：\">\n                <span>{{ props.row.skuProps }}</span>\n              </el-form-item>\n              <el-form-item label=\"原价：\">\n                <span>¥{{ props.row.originalPrice}}</span>\n              </el-form-item>\n              <el-form-item label=\"创建时间：\">\n                <span>{{ props.row.cartTime }}</span>\n              </el-form-item>\n            </el-form>\n          </template>\n        </el-table-column>\n        <el-table-column label=\"图片\">\n          <template slot-scope=\"scope\">\n            <router-link :to=\"{name:'Product',query:{pid:scope.row.productId}}\">\n              <el-image :src=\"'http://localhost:9090/img/'+scope.row.url\" fit=\"fill\" style=\"width: 40px\"></el-image>\n            </router-link>\n          </template>\n        </el-table-column>\n        <el-table-column\n            label=\"商品名称\"\n            prop=\"productName\">\n        </el-table-column>\n        <el-table-column\n            label=\"商品属性\"\n            prop=\"skuProps\">\n        </el-table-column>\n        <el-table-column\n            label=\"单价\"\n            prop=\"sellPrice\">\n        </el-table-column>\n        <el-table-column\n            label=\"数量\"\n            prop=\"cartNum\">\n        </el-table-column>\n        <el-table-column label=\"总计\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <em style=\"font-size:16px;font-weight: 700; color: #c81623\">¥{{scope.row.sellPrice*scope.row.cartNum}}</em>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n    <el-row style=\"width: 80%;margin: 0 auto;padding-top: 10px\">\n      <el-card shadow=\"hover\" body-style=\"border-radius: 2px\" style=\"width: 450px;height: 130px;float: right\" v-if=\"userAddr!==undefined&&userAddr.length>0\">\n        <el-row style=\"float: right;width: 450px\">\n          <div style=\"float: right\">\n            <b>实付款：</b>\n            <em style=\"font-size:35px;font-weight: 700; color: #c81623\">¥{{sum}}</em>\n          </div>\n        </el-row >\n        <el-row style=\"float: right;width: 450px\">\n          <div style=\"float: right\">\n            <b>寄送至：</b>\n            <em style=\"font-weight: 700; \">\n              {{\n                userAddr[addrIndex].province + \"省\" + userAddr[addrIndex].city + \"市\"\n                + userAddr[addrIndex].area + \" \" + userAddr[addrIndex].addr\n              }}\n            </em>\n          </div>\n        </el-row>\n        <el-row style=\"float: right;width: 450px\">\n          <div style=\"float: right\">\n            <b>收件人：</b>\n            <em style=\"font-weight: 700; \">\n              {{userAddr[addrIndex].receiverName + \" \"+userAddr[addrIndex].receiverMobile}}\n            </em>\n          </div>\n        </el-row>\n      </el-card>\n    </el-row>\n    <el-row style=\"width: 80%;margin: 0 auto;padding-top: 10px\">\n      <el-button style=\"background-color: rgb(255,0,54);color: white;float: right\" @click=\"addOrder\">提交订单</el-button>\n    </el-row>\n\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport {baseURL} from \"../../public/urlConfig\";\nimport router from \"../router\";\nimport Address from \"../components/Address\";\nlet token=localStorage.getItem(\"token\")\nexport default {\n  name: \"Order\",\n  components: {Address},\n  data(){\n    return{\n      username:localStorage.getItem(\"username\"),\n      img:localStorage.getItem(\"img\"),\n      userId:localStorage.getItem(\"userId\"),\n      cids:[],\n      userAddr:[],\n      productList:[],\n      sum:0,\n      addrIndex:0,\n      dialogFormVisible: false,\n      formLabelWidth: '120px',\n      form: {\n        userId: localStorage.getItem(\"userId\"),\n        receiverName: '',\n        receiverMobile: '',\n        province: '',\n        city:\"\",\n        area: \"\",\n        addr: '',\n        postCode: '',\n        status:1,\n        commonAddr:0,\n      },\n      orderid:\"\",\n    }\n  },\n  created() {\n    this.cids=this.$route.query.cids\n    this.load()\n  },\n  methods:{\n    load(){\n      axios.get(baseURL+\"/user-addr/addr/\"+this.userId).then(\n          res=>{this.userAddr=res.data\n            for(var i=0; i<this.userAddr.length; i++){\n              if(this.userAddr[i].commonAddr == 1){\n                this.addrIndex = i;\n              }\n            }\n          }\n      )\n      let s=\"\"\n      axios.post(baseURL+\"/shopping-cart/listByCartId\",s= this.cids.split(\",\"),{\n        headers:{token:token}}).then(\n          res=>{this.productList=res.data\n            let a=this.productList\n            for(let i=0;i<a.length;i++){\n              this.sum+=a[i].sellPrice*a[i].cartNum\n            }\n            }\n      )\n    },\n    childclick(item){\n      this.userAddr=item\n      this.load()\n      this.dialogFormVisible=false\n    },\n    logout() {\n      localStorage.removeItem(\"username\")\n      localStorage.removeItem(\"img\")\n      localStorage.removeItem(\"token\")\n      localStorage.removeItem(\"userId\")\n      this.$message.success(\"退出成功\")\n      this.username=\"\"\n    },\n    person(){\n      this.username=localStorage.getItem(\"username\")\n      router.push(\"/person\")\n    },\n    login(){\n      router.push({\n        path: '/login',\n        query:{\n          redirect: router.currentRoute.fullPath  // 防止从外部进来登录\n        }\n      })\n    },\n    addOrder(){\n      var order = {\n        \"actualAmount\": this.sum,\n        \"orderRemark\": this.orderRemark,\n        \"receiverAddress\":  this.userAddr[this.addrIndex].province + \" \" +this.userAddr[this.addrIndex].city+\" \"\n            +this.userAddr[this.addrIndex].area+\" \" +this.userAddr[this.addrIndex].addr,\n        \"receiverMobile\": this.userAddr[this.addrIndex].receiverMobile,\n        \"receiverName\": this.userAddr[this.addrIndex].receiverName,\n        \"totalAmount\": this.sum,\n        \"userId\": this.userId\n      };\n      axios.post(baseURL+\"/orders/add\",order,{\n        headers:{\n          token:localStorage.getItem(\"token\")\n        },\n        params:{\n          cartId: this.cids\n        },}).then((res)=>{\n          document.write(res.data)\n/*          this.$router.push(\"/paySuccess?orderId=\"+res.data.data)*/\n      });\n    },\n  }\n}\n</script>\n\n<style scoped>\n</style>"]}]}