{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\AddProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\AddProduct.vue","mtime":1685282428226},{"path":"D:\\xiaomi\\vue\\babel.config.js","mtime":1685282419250},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBiYXNlVVJMIH0gZnJvbSAiLi4vLi4vcHVibGljL3VybENvbmZpZyI7CmltcG9ydCBOYXZpIGZyb20gIi4uL2NvbXBvbmVudHMvTmF2aSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkUHJvZHVjdCIsCiAgY29tcG9uZW50czogewogICAgTmF2aTogTmF2aQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbHVlczogW10sCiAgICAgIGNhdGVnb3JpZXM6IFtdLAogICAgICBjYXRlZ29yeUlkOiAiIiwKICAgICAgcm9vdENhdGVnb3J5SWQ6ICIiLAogICAgICBwcm9kdWN0SW1nOiBbXSwKICAgICAgbGltaXQ6IDUsCiAgICAgIHN0cjogIuagvOW8j+ekuuS+izp75Y+j5ZGzOltcIuWOn+WRs1wiLFwi54On54OkXCJdLOWMheijhTpbXCLmlrDljIXoo4VcIixcIuiAgeWMheijhVwiXX3vvIjlhajkuLroi7HmlofnrKblj7fvvIkiLAogICAgICBkaWFsb2dJbWFnZVVybDogJycsCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBwYXJhbXM6IHsKICAgICAgICAicHJvZHVjdFBsYWNlIjogIiIsCiAgICAgICAgImZvb3RQZXJpb2QiOiAiIiwKICAgICAgICAiYnJhbmQiOiAiIiwKICAgICAgICAiZmFjdG9yeU5hbWUiOiAiIiwKICAgICAgICAiZmFjdG9yeUFkZHJlc3MiOiAiIiwKICAgICAgICAicGFja2FnaW5nTWV0aG9kIjogIiIsCiAgICAgICAgIndlaWdodCI6ICIiLAogICAgICAgICJzdG9yYWdlTWV0aG9kIjogIiIsCiAgICAgICAgImVhdE1ldGhvZCI6ICIiCiAgICAgIH0sCiAgICAgIHBhcmFtc1J1bGVzOiB7fSwKICAgICAgcHJvcHM6IHsKICAgICAgICBleHBhbmRUcmlnZ2VyOiAnaG92ZXInLAogICAgICAgIHZhbHVlOiAnY2F0ZWdvcnlJZCcsCiAgICAgICAgbGFiZWw6ICdjYXRlZ29yeU5hbWUnLAogICAgICAgIGNoaWxkcmVuOiAnY2F0ZWdvcmllcycKICAgICAgfSwKICAgICAgcnVsZUZvcm06IHsKICAgICAgICAicHJvZHVjdE5hbWUiOiAiIiwKICAgICAgICAiY29udGVudCI6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcHJvZHVjdE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4HlkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAxLAogICAgICAgICAgbWF4OiAxNiwKICAgICAgICAgIG1lc3NhZ2U6ICfplb/luqblnKggMSDliLAgMTYg5Liq5a2X56ymJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGNvbnRlbnQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4Hmj4/ov7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAxLAogICAgICAgICAgbWVzc2FnZTogJ+S4jeiDveS4uuepuicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBhY3Rpb246ICIiLAogICAgICBkeW5hbWljVmFsaWRhdGVGb3JtOiB7CiAgICAgICAgc2t1OiAiIiwKICAgICAgICBza3VOYW1lOiAnJywKICAgICAgICBvcmlnaW5hbFByaWNlOiAwLAogICAgICAgIHNlbGxQcmljZTogMCwKICAgICAgICBzdG9jazogMAogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuYWN0aW9uID0gYmFzZVVSTDsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJwcm9kdWN0SWQiKTsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpID09PSBudWxsKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIueZu+W9leWQjuaJjeWPr+a3u+WKoOWVhuWTgSIpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRsaXN0OiBmdW5jdGlvbiBnZXRsaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgYXhpb3MuZ2V0KGJhc2VVUkwgKyAiL2NhdGVnb3J5L2NhdGVnb3JpZXMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBhID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5jYXRlZ29yaWVzID0gX3RoaXMucmVjdXIoYSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlY3VyOiBmdW5jdGlvbiByZWN1cihkYXRhKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YVtpXS5jYXRlZ29yaWVzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGRhdGFbaV0uY2F0ZWdvcmllc1tqXS5jYXRlZ29yaWVzLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIGRhdGFbaV0uY2F0ZWdvcmllc1tqXS5jYXRlZ29yaWVzW2tdLmNhdGVnb3JpZXMgPSB1bmRlZmluZWQ7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gZGF0YTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkgewogICAgICB0aGlzLmNhdGVnb3J5SWQgPSB2YWx1ZVsyXTsKICAgICAgdGhpcy5yb290Q2F0ZWdvcnlJZCA9IHZhbHVlWzBdOwogICAgfSwKICAgIGhhbmRsZVN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMucHJvZHVjdEltZy5wdXNoKHJlc3BvbnNlKTsKICAgIH0sCiAgICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXc6IGZ1bmN0aW9uIGhhbmRsZVBpY3R1cmVDYXJkUHJldmlldyhmaWxlKSB7CiAgICAgIHRoaXMuZGlhbG9nSW1hZ2VVcmwgPSBmaWxlLnVybDsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgIH0sCiAgICBhZGRQcm9kdWN0OiBmdW5jdGlvbiBhZGRQcm9kdWN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBwcm9kdWN0ID0gewogICAgICAgICJwcm9kdWN0TmFtZSI6IHRoaXMucnVsZUZvcm0ucHJvZHVjdE5hbWUsCiAgICAgICAgImNvbnRlbnQiOiB0aGlzLnJ1bGVGb3JtLmNvbnRlbnQsCiAgICAgICAgImNhdGVnb3J5SWQiOiB0aGlzLmNhdGVnb3J5SWQsCiAgICAgICAgInJvb3RDYXRlZ29yeUlkIjogdGhpcy5yb290Q2F0ZWdvcnlJZCwKICAgICAgICAic29sZE51bSI6IDAsCiAgICAgICAgInByb2R1Y3RTdGF0dXMiOiAxCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCArICIvcHJvZHVjdHMvYWRkUHJvZHVjdCIsIHByb2R1Y3QpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcm9kdWN0SWQiLCByZXMuZGF0YS50b1N0cmluZygpKTsKCiAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoIua3u+WKoOaIkOWKnyIpOwogICAgICB9KTsKICAgIH0sCiAgICBhZGRQYXJhbXM6IGZ1bmN0aW9uIGFkZFBhcmFtcygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICJwcm9kdWN0SWQiOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdElkIiksCiAgICAgICAgInByb2R1Y3RQbGFjZSI6IHRoaXMucGFyYW1zLnByb2R1Y3RQbGFjZSwKICAgICAgICAiZm9vdFBlcmlvZCI6IHRoaXMucGFyYW1zLmZvb3RQZXJpb2QsCiAgICAgICAgImJyYW5kIjogdGhpcy5wYXJhbXMuYnJhbmQsCiAgICAgICAgImZhY3RvcnlOYW1lIjogdGhpcy5wYXJhbXMuZmFjdG9yeU5hbWUsCiAgICAgICAgImZhY3RvcnlBZGRyZXNzIjogdGhpcy5wYXJhbXMuZmFjdG9yeUFkZHJlc3MsCiAgICAgICAgInBhY2thZ2luZ01ldGhvZCI6IHRoaXMucGFyYW1zLnBhY2thZ2luZ01ldGhvZCwKICAgICAgICAid2VpZ2h0IjogdGhpcy5wYXJhbXMud2VpZ2h0LAogICAgICAgICJzdG9yYWdlTWV0aG9kIjogdGhpcy5wYXJhbXMuc3RvcmFnZU1ldGhvZCwKICAgICAgICAiZWF0TWV0aG9kIjogdGhpcy5wYXJhbXMuZWF0TWV0aG9kCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCArICIvcHJvZHVjdC1wYXJhbXMvYWRkUGFyYW1zIiwgcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEgPT09IHRydWUpIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCLkv53lrZjmiJDlip8iKTtlbHNlIF90aGlzMy4kbWVzc2FnZS5lcnJvcigi5L+d5a2Y5aSx6LSlIik7CiAgICAgIH0pOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnByb2R1Y3RJbWcubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoaSA9PT0gMCkgewogICAgICAgICAgdmFyIHByb2R1Y3RJbWcgPSB7CiAgICAgICAgICAgICJpdGVtSWQiOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdElkIiksCiAgICAgICAgICAgICJ1cmwiOiB0aGlzLnByb2R1Y3RJbWdbaV0sCiAgICAgICAgICAgICJzb3J0IjogMSwKICAgICAgICAgICAgImlzTWFpbiI6IDEKICAgICAgICAgIH07CiAgICAgICAgICBheGlvcy5wb3N0KGJhc2VVUkwgKyAiL3Byb2R1Y3QtaW1nL2FkZFByb2R1Y3RJbWciLCBwcm9kdWN0SW1nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIHByb2R1Y3RpbWcgPSB7CiAgICAgICAgICAgICJpdGVtSWQiOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJvZHVjdElkIiksCiAgICAgICAgICAgICJ1cmwiOiB0aGlzLnByb2R1Y3RJbWdbaV0sCiAgICAgICAgICAgICJzb3J0IjogaSArIDEsCiAgICAgICAgICAgICJpc01haW4iOiAwCiAgICAgICAgICB9OwogICAgICAgICAgYXhpb3MucG9zdChiYXNlVVJMICsgIi9wcm9kdWN0LWltZy9hZGRQcm9kdWN0SW1nIiwgcHJvZHVjdGltZyk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXM0LmFkZFNrdSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7CiAgICB9LAogICAgYWRkU2t1OiBmdW5jdGlvbiBhZGRTa3UoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdmFyIHNrdSA9IHsKICAgICAgICAicHJvZHVjdElkIjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInByb2R1Y3RJZCIpLAogICAgICAgICJza3VOYW1lIjogdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLnNrdU5hbWUsCiAgICAgICAgIm9yaWdpbmFsUHJpY2UiOiB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0ub3JpZ2luYWxQcmljZSwKICAgICAgICAic2VsbFByaWNlIjogdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLnNlbGxQcmljZSwKICAgICAgICAic3RvY2siOiB0aGlzLmR5bmFtaWNWYWxpZGF0ZUZvcm0uc3RvY2ssCiAgICAgICAgInVudGl0bGVkIjogdGhpcy5keW5hbWljVmFsaWRhdGVGb3JtLnNrdSwKICAgICAgICAiZGlzY291bnRzIjogMS4wCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3QoYmFzZVVSTCArICIvcHJvZHVjdC1za3UvYWRkU2t1Iiwgc2t1KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEgPT09IHRydWUpIF90aGlzNS4kbWVzc2FnZS5zdWNjZXNzKCLmt7vliqDmiJDlip8iKTtlbHNlIF90aGlzNS4kbWVzc2FnZS5lcnJvcigi5re75Yqg5aSx6LSlIik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AAEA;AACAA,oBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,gBADA;AAEAC,oBAFA;AAGAC,oBAHA;AAIAC,wBAJA;AAKAC,oBALA;AAMAC,cANA;AAOAC,mEAPA;AAQAC,wBARA;AASAC,0BATA;AAUAC;AACA,0BADA;AAEA,wBAFA;AAGA,mBAHA;AAIA,yBAJA;AAKA,4BALA;AAMA,6BANA;AAOA,oBAPA;AAQA,2BARA;AASA;AATA,OAVA;AAqBAC,qBArBA;AAwBAC;AACAC,8BADA;AAEAC,2BAFA;AAGAC,6BAHA;AAIAC;AAJA,OAxBA;AA8BAC;AACA,yBADA;AAEA;AAFA,OA9BA;AAkCAC;AACAC,sBACA;AAAAC;AAAAC;AAAAC;AAAA,SADA,EAEA;AAAAC;AAAAC;AAAAH;AAAAC;AAAA,SAFA,CADA;AAKAG,kBACA;AAAAL;AAAAC;AAAAC;AAAA,SADA,EAEA;AAAAC;AAAAF;AAAAC;AAAA,SAFA;AALA,OAlCA;AA4CAI,gBA5CA;AA6CAC;AACAC,eADA;AAEAC,mBAFA;AAGAC,wBAHA;AAIAC,oBAJA;AAKAC;AALA;AA7CA;AAqDA,GAzDA;AA0DAC,SA1DA,qBA0DA;AACA;AACAC;;AACA;AACA;AACA;AACA;AACA,GAjEA;AAkEAC;AACAC,WADA,qBACA;AAAA;;AACAC;AACA;AACA;AACA,OAHA;AAIA,KANA;AAOAC,SAPA,iBAOAtC,IAPA,EAOA;AACA;AACA;AACA;AACAA;AACA;AAEA;AACA;;AACA;AACA,KAjBA;AAkBAuC,gBAlBA,wBAkBAzB,KAlBA,EAkBA;AACA;AACA;AACA,KArBA;AAsBA0B,iBAtBA,yBAsBAC,QAtBA,EAsBAC,IAtBA,EAsBAC,QAtBA,EAsBA;AACA;AACA,KAxBA;AAyBAC,4BAzBA,oCAyBAF,IAzBA,EAyBA;AACA;AACA;AACA,KA5BA;AA6BAG,cA7BA,wBA6BA;AAAA;;AACA;AACA,gDADA;AAEA,wCAFA;AAGA,qCAHA;AAIA,6CAJA;AAKA,oBALA;AAMA;AANA;AAQAR,iEACA;AAAAH;;AACA;AACA,OAHA;AAKA,KA3CA;AA4CAY,aA5CA,uBA4CA;AAAA;;AACA;AACA,sDADA;AAEA,gDAFA;AAGA,4CAHA;AAIA,kCAJA;AAKA,8CALA;AAMA,oDANA;AAOA,sDAPA;AAQA,oCARA;AASA,kDATA;AAUA;AAVA;AAYAT,qEACA;AACA,oEACA;AACA,OAJA;;AAMA;AACA;AACA;AACA,uDADA;AAEA,qCAFA;AAGA,qBAHA;AAIA;AAJA;AAMAA;AACA,SARA,MASA;AACA;AACA,uDADA;AAEA,qCAFA;AAGA,yBAHA;AAIA;AAJA;AAMAA;AACA;AACA;AAEA,KApFA;AAqFAU,cArFA,sBAqFAC,QArFA,EAqFA;AAAA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACAC;AACA;AACA;AACA,OAPA;AAQA,KA9FA;AA+FAC,aA/FA,qBA+FAF,QA/FA,EA+FA;AACA;AACA,KAjGA;AAkGAG,UAlGA,oBAkGA;AAAA;;AACA;AACA,sDADA;AAEA,mDAFA;AAGA,+DAHA;AAIA,uDAJA;AAKA,+CALA;AAMA,gDANA;AAOA;AAPA;AASAd,4DACA;AACA,oEACA;AACA,OAJA;AAMA;AAlHA;AAlEA","names":["name","components","Navi","data","values","categories","categoryId","rootCategoryId","productImg","limit","str","dialogImageUrl","dialogVisible","params","paramsRules","props","expandTrigger","value","label","children","ruleForm","rules","productName","required","message","trigger","min","max","content","action","dynamicValidateForm","sku","skuName","originalPrice","sellPrice","stock","created","localStorage","methods","getlist","axios","recur","handleChange","handleSuccess","response","file","fileList","handlePictureCardPreview","addProduct","addParams","submitForm","formName","console","resetForm","addSku"],"sourceRoot":"src/views","sources":["AddProduct.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <Navi/>\r\n\r\n<div style=\"width: 60%;margin: 0 auto\">\r\n  <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\"  >\r\n    <el-form-item label=\"商品名称\" prop=\"productName\">\r\n      <el-input v-model=\"ruleForm.productName\"></el-input>\r\n    </el-form-item>\r\n    <el-form-item label=\"商品描述\" prop=\"content\">\r\n      <el-input type=\"textarea\" v-model=\"ruleForm.content\"></el-input>\r\n    </el-form-item>\r\n  </el-form>\r\n  <el-row>\r\n    <el-col style=\"width: 30%;float: left\">\r\n      <span>商品分类：</span>\r\n    </el-col>\r\n    <el-col style=\"width: 30%;float: left\">\r\n      <el-cascader\r\n          v-model=\"values\"\r\n          style=\"float: left;margin: 5px\"\r\n          placeholder=\"试试搜索：手机\"\r\n          size=\"medium\"\r\n          :props=\"props\" @focus=\"getlist\"\r\n          :options=\"categories\" @change=\"handleChange\"\r\n          filterable clearable></el-cascader>\r\n    </el-col>\r\n\r\n  </el-row>\r\n<el-row>\r\n  <el-button type=\"primary\" @click=\"addProduct\">添加商品</el-button>\r\n</el-row>\r\n  <el-row>\r\n    <el-upload\r\n        :action=\"action+'/product-comments/upload'\"\r\n        list-type=\"picture-card\" :limit=\"limit\" :on-success=\"handleSuccess\"\r\n        :on-preview=\"handlePictureCardPreview\" style=\"float: left\">\r\n      <i class=\"el-icon-plus\"></i>\r\n    </el-upload>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n    </el-dialog>\r\n  </el-row>\r\n  <el-row>\r\n    <el-form :model=\"params\" :rules=\"paramsRules\" ref=\"params\" label-width=\"100px\">\r\n      <el-form-item label=\"商品生产地\" prop=\"productPlace\">\r\n        <el-input v-model=\"params.productPlace\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品有效期\" prop=\"footPeriod\">\r\n        <el-input v-model=\"params.footPeriod\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"商品品牌\" prop=\"brand\">\r\n        <el-input v-model=\"params.brand\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"生产厂名\" prop=\"factoryName\">\r\n        <el-input v-model=\"params.factoryName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"产地详细地址\" prop=\"factoryAddress\">\r\n        <el-input v-model=\"params.factoryAddress\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"包装方式\" prop=\"packagingMethod\">\r\n        <el-input v-model=\"params.packagingMethod\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"规格重量\" prop=\"weight\">\r\n        <el-input v-model=\"params.weight\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"储存方式\" prop=\"storageMethod\">\r\n        <el-input v-model=\"params.storageMethod\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"食用方式\" prop=\"eatMethod\">\r\n        <el-input v-model=\"params.eatMethod\"></el-input>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-row>\r\n  <el-row>\r\n    <el-button type=\"primary\" @click=\"addParams\">保存商品参数</el-button>\r\n  </el-row>\r\n  <el-row>\r\n    <el-form :model=\"dynamicValidateForm\" ref=\"dynamicValidateForm\" label-width=\"100px\" class=\"demo-dynamic\">\r\n      <el-form-item\r\n          prop=\"skuName\"\r\n          label=\"套餐名\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.skuName\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"originalPrice\"\r\n          label=\"原价\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.originalPrice\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"sellPrice\"\r\n          label=\"现价\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.sellPrice\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"stock\"\r\n          label=\"库存\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.stock\" ></el-input>\r\n      </el-form-item>\r\n      <el-form-item\r\n          prop=\"sku\"\r\n          label=\"属性集合\"\r\n      >\r\n        <el-input v-model=\"dynamicValidateForm.sku\" :placeholder=\"str\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\">提交</el-button>\r\n        <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n  </el-row>\r\n</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {baseURL} from \"../../public/urlConfig\";\r\nimport Navi from \"../components/Navi\";\r\n\r\nexport default {\r\n  name: \"AddProduct\",\r\n  components: {Navi},\r\n  data(){\r\n    return{\r\n      values:[],\r\n      categories:[],\r\n      categoryId:\"\",\r\n      rootCategoryId:\"\",\r\n      productImg:[],\r\n      limit:5,\r\n      str:\"格式示例:{口味:[\\\"原味\\\",\\\"烧烤\\\"],包装:[\\\"新包装\\\",\\\"老包装\\\"]}（全为英文符号）\",\r\n      dialogImageUrl: '',\r\n      dialogVisible: false,\r\n      params:{\r\n        \"productPlace\":\"\",\r\n        \"footPeriod\":\"\",\r\n        \"brand\":\"\",\r\n        \"factoryName\":\"\",\r\n        \"factoryAddress\":\"\",\r\n        \"packagingMethod\":\"\",\r\n        \"weight\":\"\",\r\n        \"storageMethod\":\"\",\r\n        \"eatMethod\":\"\",\r\n      },\r\n      paramsRules:{\r\n\r\n      },\r\n      props:{\r\n        expandTrigger: 'hover',\r\n        value:'categoryId',\r\n        label:'categoryName',\r\n        children:'categories'\r\n      },\r\n      ruleForm:{\r\n        \"productName\":\"\",\r\n        \"content\":\"\",\r\n      },\r\n      rules:{\r\n        productName: [\r\n          { required: true, message: '请输入商品名称', trigger: 'blur' },\r\n          { min: 1, max: 16, message: '长度在 1 到 16 个字符', trigger: 'blur' }\r\n        ],\r\n        content:[\r\n          { required: true, message: '请输入商品描述', trigger: 'blur' },\r\n          { min: 1,  message: '不能为空', trigger: 'blur' }\r\n        ]\r\n      },\r\n      action:\"\",\r\n      dynamicValidateForm: {\r\n        sku: \"\",\r\n        skuName: '',\r\n        originalPrice:0,\r\n        sellPrice:0,\r\n        stock:0,\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.action = baseURL\r\n    localStorage.removeItem(\"productId\")\r\n    if(localStorage.getItem(\"userId\")===null){\r\n      this.$message.error(\"登录后才可添加商品\")\r\n      this.$router.push('/login')\r\n    }\r\n  },\r\n  methods:{\r\n    getlist(){\r\n      axios.get(baseURL+\"/category/categories\").then((response) => {\r\n        let a=response.data\r\n        this.categories=this.recur(a)\r\n      })\r\n    },\r\n    recur(data){\r\n      for(let i=0;i<data.length;i++){\r\n        for (let j=0;j<data[i].categories.length;j++){\r\n          for (let k=0;k<data[i].categories[j].categories.length;k++){\r\n            data[i].categories[j].categories[k].categories=undefined\r\n          }\r\n\r\n        }\r\n      }\r\n      return data\r\n    },\r\n    handleChange(value){\r\n      this.categoryId=value[2]\r\n      this.rootCategoryId=value[0]\r\n    },\r\n    handleSuccess(response,file, fileList) {\r\n      this.productImg.push(response)\r\n    },\r\n    handlePictureCardPreview(file) {\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    addProduct(){\r\n      var product={\r\n        \"productName\":this.ruleForm.productName,\r\n        \"content\":this.ruleForm.content,\r\n        \"categoryId\":this.categoryId,\r\n        \"rootCategoryId\":this.rootCategoryId,\r\n        \"soldNum\":0,\r\n        \"productStatus\":1,\r\n      }\r\n      axios.post(baseURL+\"/products/addProduct\",product).then(\r\n          res=>{localStorage.setItem(\"productId\",res.data.toString())\r\n            this.$message.success(\"添加成功\")\r\n          }\r\n      )\r\n    },\r\n    addParams(){\r\n      var params={\r\n        \"productId\":localStorage.getItem(\"productId\"),\r\n        \"productPlace\":this.params.productPlace,\r\n        \"footPeriod\":this.params.footPeriod,\r\n        \"brand\":this.params.brand,\r\n        \"factoryName\":this.params.factoryName,\r\n        \"factoryAddress\":this.params.factoryAddress,\r\n        \"packagingMethod\":this.params.packagingMethod,\r\n        \"weight\":this.params.weight,\r\n        \"storageMethod\":this.params.storageMethod,\r\n        \"eatMethod\":this.params.eatMethod,\r\n      }\r\n        axios.post(baseURL+\"/product-params/addParams\",params).then(\r\n            res=>{\r\n              if(res.data===true)this.$message.success(\"保存成功\")\r\n              else this.$message.error(\"保存失败\")\r\n            }\r\n        )\r\n      for (let i = 0; i < this.productImg.length; i++) {\r\n        if(i===0){\r\n          var productImg={\r\n            \"itemId\":localStorage.getItem(\"productId\"),\r\n            \"url\":this.productImg[i],\r\n            \"sort\":1,\r\n            \"isMain\":1\r\n          }\r\n          axios.post(baseURL+\"/product-img/addProductImg\",productImg)\r\n        }\r\n        else{\r\n          var productimg={\r\n            \"itemId\":localStorage.getItem(\"productId\"),\r\n            \"url\":this.productImg[i],\r\n            \"sort\":i+1,\r\n            \"isMain\":0\r\n          }\r\n          axios.post(baseURL+\"/product-img/addProductImg\",productimg)\r\n        }\r\n      }\r\n\r\n    },\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          this.addSku()\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    },\r\n    addSku(){\r\n      var sku={\r\n        \"productId\":localStorage.getItem(\"productId\"),\r\n        \"skuName\":this.dynamicValidateForm.skuName,\r\n        \"originalPrice\":this.dynamicValidateForm.originalPrice,\r\n        \"sellPrice\":this.dynamicValidateForm.sellPrice,\r\n        \"stock\":this.dynamicValidateForm.stock,\r\n        \"untitled\":this.dynamicValidateForm.sku,\r\n        \"discounts\":1.0\r\n      }\r\n      axios.post(baseURL+\"/product-sku/addSku\",sku).then(\r\n          res=>{\r\n            if(res.data===true)this.$message.success(\"添加成功\")\r\n            else this.$message.error(\"添加失败\")\r\n          }\r\n      )\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}