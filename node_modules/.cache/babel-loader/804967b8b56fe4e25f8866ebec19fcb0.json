{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\OrderList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\OrderList.vue","mtime":1685282428226},{"path":"D:\\xiaomi\\vue\\babel.config.js","mtime":1685282419250},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IHsgYmFzZVVSTCB9IGZyb20gIi4uLy4uL3B1YmxpYy91cmxDb25maWciOwppbXBvcnQgTmF2aSBmcm9tICIuLi9jb21wb25lbnRzL05hdmkiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAib3JkZXJMaXN0IiwKICBjb21wb25lbnRzOiB7CiAgICBOYXZpOiBOYXZpCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcklkOiAiIiwKICAgICAgb3JkZXJJbmZvOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnVzZXJJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVpZDsKICAgIHRoaXMubG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldChiYXNlVVJMICsgIi9vcmRlci1pdGVtL2dldE9yZGVyTGlzdEJ5VXNlcklkLyIgKyB0aGlzLnVzZXJJZCwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDEwMDAxKSBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXMuZGF0YS5tc2cpO2Vsc2UgewogICAgICAgICAgX3RoaXMub3JkZXJJbmZvID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmE6IGZ1bmN0aW9uIHNhdmEoaWQsIHBpZCkgewogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaXRlbV9pZCIsIGlkKTsKICAgICAgcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcmVtYXJrJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcGlkOiBwaWQgLy8g6Ziy5q2i5LuO5aSW6YOo6L+b5p2l55m75b2VCgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AAEA;AACAA,mBADA;AAEAC;AAAAC;AAAA,GAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,gBADA;AAEAC;AAFA;AAIA,GARA;AASAC,SATA,qBASA;AACA;AACA;AACA,GAZA;AAaAC;AACAC,QADA,kBACA;AAAA;;AACAC;AACAC;AAAAC;AAAA;AADA,SAEAC,IAFA,CAGA;AACA,qCACA,mCADA,KAEA;AACA;AACA;AACA,OATA;AAWA,KAbA;AAcAC,QAdA,gBAcAC,EAdA,EAcAC,GAdA,EAcA;AACAC;AACAC;AACAC,uBADA;AAEAC;AACAJ,kBADA,CACA;;AADA;AAFA;AAMA;AAtBA;AAbA","names":["name","components","Navi","data","userId","orderInfo","created","methods","load","axios","headers","token","then","sava","id","pid","localStorage","router","path","query"],"sourceRoot":"src/views","sources":["OrderList.vue"],"sourcesContent":["<template>\r\n<div >\r\n  <Navi/>\r\n  <div style=\"margin: 0 auto;width: 80%\" v-for=\"item in orderInfo\">\r\n    <el-row style=\"background-color:rgb(234,248,255);width: 80%;margin: 0 auto;padding: 10px\">\r\n      <b style=\"float: left;margin-left: 5px\">{{item.createTime.substring(0,19)}}</b>\r\n      <span style=\"float: left;margin-left: 5px\">订单号：<em>{{item.orderId}}</em></span>\r\n    </el-row>\r\n    <el-row style=\"width: 80%;margin: 0 auto;background-color: white\">\r\n      <el-col :span=\"16\" style=\"float: left;\">\r\n        <el-table\r\n            v-loading=\"loading\"\r\n            element-loading-text=\"拼命加载中\"\r\n            element-loading-spinner=\"el-icon-loading\"\r\n            element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n            :data=\"item.orderItems\"\r\n            style=\"margin: 0 auto;\">\r\n          <el-table-column label=\"商品信息\">\r\n            <template slot-scope=\"scope\">\r\n              <el-row>\r\n                <el-col :span=\"4\">\r\n                  <router-link :to=\"{name:'Product',query:{pid:scope.row.productId}}\">\r\n                    <el-image :src=\"'http://localhost:9090/img/'+scope.row.productImg\" fit=\"fill\" style=\"width:100%\"></el-image>\r\n                  </router-link>\r\n                </el-col>\r\n                <el-col :span=\"10\" style=\"margin: 5px\">\r\n                  <el-row>\r\n                    <span>{{scope.row.productName}}</span></el-row>\r\n                    <el-row><span style=\"font-size: 12px;color: rgb(176,176,176)\">{{scope.row.skuName}}</span>\r\n                  </el-row>\r\n                </el-col>\r\n                <el-col :span=\"2\">\r\n                  <span style=\"margin: 0 auto\">¥{{scope.row.productPrice}}</span>\r\n                </el-col>\r\n                <el-col :span=\"2\">\r\n                  <span>{{scope.row.buyCounts}}</span>\r\n                </el-col>\r\n                <el-col :span=\"4\">\r\n                  <el-link v-if=\"scope.row.isComment===1\" :href=\"'/product?pid='+scope.row.productId\" :underline=\"false\">再次购买</el-link>\r\n                  <el-link v-else :underline=\"false\" @click=\"sava(scope.row.itemId,scope.row.productId)\">立即评价</el-link>\r\n                </el-col>\r\n              </el-row>\r\n\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-col>\r\n      <el-col :span=\"4\" style=\"\">\r\n        <b style=\"padding: 10px;font-size: 16px;margin: 0 auto\">总计：¥{{item.actualAmount}}</b>\r\n      </el-col>\r\n      <el-col :span=\"4\">\r\n        <el-row>\r\n          <el-link :underline=\"false\" :href=\"'/orderDetail?orderId='+item.orderId\">订单详情</el-link>\r\n        </el-row>\r\n        <el-row>\r\n          <span v-if=\"item.status==1\" style=\"color: rgb(255,66,0)\">已创建</span>\r\n          <span v-if=\"item.status==2\" style=\"color: rgb(255,66,0)\">待支付</span>\r\n          <span v-if=\"item.status==4\" style=\"color: rgb(0,186,151)\">已付款</span>\r\n        </el-row>\r\n\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport {baseURL} from \"../../public/urlConfig\";\r\nimport Navi from \"../components/Navi\";\r\nimport router from \"../router\";\r\n\r\nexport default {\r\n  name: \"orderList\",\r\n  components: {Navi},\r\n  data(){\r\n    return{\r\n      userId:\"\",\r\n      orderInfo:[],\r\n    }\r\n  },\r\n  created() {\r\n    this.userId=this.$route.query.uid;\r\n    this.load();\r\n  },\r\n  methods:{\r\n    load(){\r\n      axios.get(baseURL+\"/order-item/getOrderListByUserId/\"+this.userId,{\r\n        headers:{token:localStorage.getItem(\"token\")}\r\n      }).then(\r\n          res=>{\r\n            if(res.data.code===10001)\r\n              this.$message.error(res.data.msg)\r\n            else {\r\n              this.orderInfo=res.data.data\r\n            }\r\n          }\r\n      )\r\n    },\r\n    sava(id,pid){\r\n      localStorage.setItem(\"item_id\",id)\r\n      router.push({\r\n        path: '/remark',\r\n        query:{\r\n          pid: pid  // 防止从外部进来登录\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}