{"remainingRequest":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\xiaomi\\vue\\src\\views\\pages\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\xiaomi\\vue\\src\\views\\pages\\Home.vue","mtime":1671606377662},{"path":"D:\\xiaomi\\vue\\babel.config.js","mtime":1685282419250},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\xiaomi\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\xiaomi\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDoveGlhb21pL3Z1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBlY2hhcnRzIGZyb20gJ2VjaGFydHMnOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZSh7CiAgICBCb29rVG9wNTogZnVuY3Rpb24gQm9va1RvcDUoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJvb2tsaXN0LkJvb2tUb3A1OwogICAgfSwKICAgIFJlYWRlclRvcDM6IGZ1bmN0aW9uIFJlYWRlclRvcDMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJvb2tsaXN0LlJlYWRlclRvcDM7CiAgICB9LAogICAgQ2F0ZWdvcnlUb3AzOiBmdW5jdGlvbiBDYXRlZ29yeVRvcDMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJvb2tsaXN0LkNhdGVnb3J5VG9wMzsKICAgIH0sCiAgICByZXBvcnRzOiBmdW5jdGlvbiByZXBvcnRzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5yZXBvcnQucmVwb3J0czsKICAgIH0KICB9KSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKCdib29rbGlzdCcsIHsKICAgIGdldEhvdEJvb2s1OiAnZ2V0SG90Qm9vazUnLAogICAgZ2V0SG90UmVhZGVyMzogJ2dldEhvdFJlYWRlcjMnLAogICAgZ2V0SG90Q2F0ZWdvcnkzOiAnZ2V0SG90Q2F0ZWdvcnkzJwogIH0pKSwge30sIHsKICAgIC8v54Ot6Zeo5Zu+5LmmCiAgICBkcmF3TGluZTogZnVuY3Rpb24gZHJhd0xpbmUoKSB7CiAgICAgIC8v5p+x54q25Zu+CiAgICAgIHZhciBlY2hhcnRzMSA9IHRoaXMuJGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWNoYXJ0czEnKSk7CiAgICAgIHZhciB4QXhpczEgPSBbXTsKICAgICAgdmFyIHNlcmllc0RhdGExID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuQm9va1RvcDUubGVuZ3RoOyBpKyspIHsKICAgICAgICB4QXhpczEucHVzaCh0aGlzLkJvb2tUb3A1W2ldLmJvb2tOYW1lKTsKICAgICAgICBzZXJpZXNEYXRhMS5wdXNoKHRoaXMuQm9va1RvcDVbaV0uYm9va0JvcnJvd2VkKTsKICAgICAgfQoKICAgICAgZWNoYXJ0czEuc2V0T3B0aW9uKHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dDogJ+eDremXqOWbvuS5plRPUDUnCiAgICAgICAgfSwKICAgICAgICB0b29sdGlwOiB7fSwKICAgICAgICB4QXhpczogewogICAgICAgICAgZGF0YTogeEF4aXMxCiAgICAgICAgfSwKICAgICAgICB5QXhpczoge30sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgbmFtZTogJ+mUgOmHjycsCiAgICAgICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICBkYXRhOiBzZXJpZXNEYXRhMQogICAgICAgIH1dCiAgICAgIH0pOwogICAgICB2YXIgZWNoYXJ0czIgPSB0aGlzLiRlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VjaGFydHMyJykpOwogICAgICB2YXIgeEF4aXMyID0gW107CiAgICAgIHZhciBzZXJpZXNEYXRhMiA9IFtdOwogICAgICBjb25zb2xlLmxvZygiQCIsIHRoaXMuUmVhZGVyVG9wMyk7CgogICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5SZWFkZXJUb3AzLmxlbmd0aDsgX2krKykgewogICAgICAgIHhBeGlzMi5wdXNoKHRoaXMuUmVhZGVyVG9wM1tfaV0ucmVhZGVyTmFtZSk7CiAgICAgICAgc2VyaWVzRGF0YTIucHVzaCh0aGlzLlJlYWRlclRvcDNbX2ldLmJvcnJvd051bWJlcik7CiAgICAgIH0KCiAgICAgIGVjaGFydHMyLnNldE9wdGlvbih7CiAgICAgICAgdGl0bGU6IHsKICAgICAgICAgIHRleHQ6ICfng63pl6jor7vogIVUT1AzJwogICAgICAgIH0sCiAgICAgICAgdG9vbHRpcDoge30sCiAgICAgICAgeEF4aXM6IHsKICAgICAgICAgIGRhdGE6IHhBeGlzMgogICAgICAgIH0sCiAgICAgICAgeUF4aXM6IHt9LAogICAgICAgIHNlcmllczogW3sKICAgICAgICAgIG5hbWU6ICfplIDph48nLAogICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICBkYXRhOiBzZXJpZXNEYXRhMiwKICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBjb2xvcjogJyM0OGE5YzUnCiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSk7CiAgICAgIHZhciBlY2hhcnRzMyA9IHRoaXMuJGVjaGFydHMuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWNoYXJ0czMnKSk7CiAgICAgIHZhciB4QXhpczMgPSBbXTsKICAgICAgdmFyIHNlcmllc0RhdGEzID0gW107CiAgICAgIGNvbnNvbGUubG9nKCJAIiwgdGhpcy5DYXRlZ29yeVRvcDMpOwoKICAgICAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgdGhpcy5DYXRlZ29yeVRvcDMubGVuZ3RoOyBfaTIrKykgewogICAgICAgIHhBeGlzMy5wdXNoKHRoaXMuQ2F0ZWdvcnlUb3AzW19pMl0uY2F0ZWdvcnlOYW1lKTsKICAgICAgICBzZXJpZXNEYXRhMy5wdXNoKHRoaXMuQ2F0ZWdvcnlUb3AzW19pMl0uY2F0ZWdvcnlCb3Jyb3cpOwogICAgICB9IC8vIGNvbnNvbGUubG9nKCIjIix4QXhpczMpCgoKICAgICAgZWNoYXJ0czMuc2V0T3B0aW9uKHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdGV4dDogJ+WAn+mYheWIhuexu+aOkuihjCcKICAgICAgICB9LAogICAgICAgIHRvb2x0aXA6IHt9LAogICAgICAgIHhBeGlzOiB7CiAgICAgICAgICBkYXRhOiB4QXhpczMKICAgICAgICB9LAogICAgICAgIHlBeGlzOiB7fSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAn6ZSA6YePJywKICAgICAgICAgIHR5cGU6ICdiYXInLAogICAgICAgICAgZGF0YTogc2VyaWVzRGF0YTMsCiAgICAgICAgICBpdGVtU3R5bGU6IHsKICAgICAgICAgICAgY29sb3I6ICcjMmRkZTk4JwogICAgICAgICAgfQogICAgICAgIH1dCiAgICAgIH0pOwogICAgfQogIH0pLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEhvdEJvb2s1KCk7CiAgICB0aGlzLmdldEhvdFJlYWRlcjMoKTsKICAgIHRoaXMuZ2V0SG90Q2F0ZWdvcnkzKCk7CiAgICB0aGlzLmRyYXdMaW5lKCk7IC8vIGNvbnNvbGUubG9nKCJAIix0aGlzLkNhdGVnb3J5VG9wMykKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACAA,cADA;AAEAC,8BACAC;AACAC;AAAA;AAAA,KADA;AAEAC;AAAA;AAAA,KAFA;AAGAC;AAAA;AAAA,KAHA;AAIAC;AAAA;AAAA;AAJA,IADA,CAFA;AAUAC,2CACAC;AACAC,8BADA;AAEAC,kCAFA;AAGAC;AAHA,IADA;AAMA;AACAC,YAPA,sBAOA;AACA;AACA;AACA;AACA;;AACA;AACAC;AACAC;AACA;;AACAC;AACAC;AAAAC;AAAA,SADA;AAEAC,mBAFA;AAGAC;AACAC;AADA,SAHA;AAMAC,iBANA;AAOAC;AACAtB,oBADA;AAEAuB,sBAFA;AAGAH;AAHA;AAPA;AAaA;AACA;AACA;AACAI;;AACA;AACAC;AACAC;AACA;;AACAC;AACAX;AACAC;AADA,SADA;AAIAC,mBAJA;AAKAC;AACAC;AADA,SALA;AAQAC,iBARA;AASAC;AACAtB,oBADA;AAEAuB,qBAFA;AAGAH,2BAHA;AAIAQ;AACAC;AADA;AAJA;AATA;AAkBA;AACA;AACA;AACAL;;AACA;AACAM;AACAC;AACA,OAvDA,CAwDA;;;AACAC;AACAhB;AAAAC;AAAA,SADA;AAEAC,mBAFA;AAGAC;AACAC;AADA,SAHA;AAMAC,iBANA;AAOAC;AACAtB,oBADA;AAEAuB,qBAFA;AAGAH,2BAHA;AAIAQ;AACAC;AADA;AAJA;AAPA;AAgBA;AAhFA,IAVA;AA4FAI,SA5FA,qBA4FA;AACA;AACA;AACA;AACA,oBAJA,CAKA;AACA;AAlGA","names":["name","computed","mapState","BookTop5","ReaderTop3","CategoryTop3","reports","methods","mapActions","getHotBook5","getHotReader3","getHotCategory3","drawLine","xAxis1","seriesData1","echarts1","title","text","tooltip","xAxis","data","yAxis","series","type","console","xAxis2","seriesData2","echarts2","itemStyle","color","xAxis3","seriesData3","echarts3","mounted"],"sourceRoot":"src/views/pages","sources":["Home.vue"],"sourcesContent":["<template>\r\n<div>\r\n  <div class=\"top-content\">\r\n      <el-card style=\"height:350px;width:400px\" id=\"echarts1\"></el-card>\r\n      <el-card style=\"height:350px;width:400px;\" id=\"echarts2\"></el-card>\r\n      <el-card style=\"height:350px;width:400px;\" id=\"echarts3\"></el-card>\r\n  </div>\r\n  <div class=\"bottom\">\r\n    <el-card style=\"height:200px;width:1000px\" class=\"bottom-content\">\r\n      <p>公告</p>\r\n      <div style=\"margin-top:12px\">\r\n        <span>{{this.reports[0].content}}</span>\r\n        <span style=\"margin-left:400px;font-size:12px;color:grey\">{{this.reports[0].time}}</span>\r\n        </div>\r\n    </el-card>\r\n  </div>\r\n</div>\r\n \r\n</template>\r\n\r\n<script>\r\nimport echarts from 'echarts'\r\nimport { mapActions, mapState } from 'vuex'\r\nexport default {\r\n  name:'Home',\r\n  computed:{\r\n    ...mapState({\r\n       BookTop5:state => state.booklist.BookTop5,\r\n       ReaderTop3:state => state.booklist.ReaderTop3,\r\n       CategoryTop3:state => state.booklist.CategoryTop3,\r\n       reports:state => state.report.reports\r\n    })\r\n  },\r\n  methods:{\r\n    ...mapActions('booklist',{\r\n      getHotBook5:'getHotBook5',\r\n      getHotReader3:'getHotReader3',\r\n      getHotCategory3:'getHotCategory3'\r\n    }),\r\n    //热门图书\r\n    drawLine(){\r\n       //柱状图\r\n      let echarts1 = this.$echarts.init(document.getElementById('echarts1'))\r\n      let xAxis1 = []\r\n      let seriesData1 = []\r\n      for(let i = 0;i<this.BookTop5.length;i++){\r\n        xAxis1.push(this.BookTop5[i].bookName)\r\n        seriesData1.push(this.BookTop5[i].bookBorrowed)\r\n      }\r\n      echarts1.setOption({\r\n        title: { text: '热门图书TOP5' },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis1\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'line',\r\n                data: seriesData1\r\n            }]\r\n      })\r\n      let echarts2 = this.$echarts.init(document.getElementById('echarts2'))\r\n      let xAxis2 = []\r\n      let seriesData2 = []\r\n      console.log(\"@\",this.ReaderTop3)\r\n      for(let i = 0;i<this.ReaderTop3.length;i++){\r\n        xAxis2.push(this.ReaderTop3[i].readerName)\r\n        seriesData2.push(this.ReaderTop3[i].borrowNumber)\r\n      }\r\n      echarts2.setOption({\r\n        title: {\r\n          text:'热门读者TOP3',\r\n           },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis2\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'bar',\r\n                data: seriesData2,\r\n                itemStyle:{\r\n                  color:'#48a9c5'\r\n                }\r\n            }]\r\n      })\r\n      let echarts3 = this.$echarts.init(document.getElementById('echarts3'))\r\n      let xAxis3 = []\r\n      let seriesData3 = []\r\n      console.log(\"@\",this.CategoryTop3)\r\n      for(let i = 0;i<this.CategoryTop3.length;i++){\r\n        xAxis3.push(this.CategoryTop3[i].categoryName)\r\n        seriesData3.push(this.CategoryTop3[i].categoryBorrow)\r\n      }\r\n      // console.log(\"#\",xAxis3)\r\n      echarts3.setOption({\r\n        title: { text: '借阅分类排行' },\r\n            tooltip: {},\r\n            xAxis: {\r\n                data: xAxis3\r\n            },\r\n            yAxis: {},\r\n            series: [{\r\n                name: '销量',\r\n                type: 'bar',\r\n                data: seriesData3,\r\n                itemStyle:{\r\n                  color:'#2dde98'\r\n                }\r\n            }]\r\n      })\r\n    }\r\n  },\r\n  mounted(){\r\n    this.getHotBook5()\r\n    this.getHotReader3()\r\n    this.getHotCategory3()\r\n    this.drawLine()\r\n    // console.log(\"@\",this.CategoryTop3)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.top-content{\r\n  display: flex;\r\n  justify-items: center;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n.bottom{\r\n  margin-top:38px;\r\n  .bottom-content{\r\n    margin:0 auto;\r\n  }\r\n}\r\n</style>"]}]}